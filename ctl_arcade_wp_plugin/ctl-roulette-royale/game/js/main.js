/*
 Platform.js <https://mths.be/platform>
 Copyright 2014-2018 Benjamin Tan <https://bnjmnt4n.now.sh/>
 Copyright 2011-2013 John-David Dalton
 Available under MIT license <https://mths.be/mit>
*/
(function(){var b="undefined"!==typeof window&&"undefined"!==typeof window.document?window.document:{},g="undefined"!==typeof module&&module.exports,h="undefined"!==typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,e=function(){for(var a,d=["requestFullscreen exitFullscreen fullscreenElement fullscreenEnabled fullscreenchange fullscreenerror".split(" "),"webkitRequestFullscreen webkitExitFullscreen webkitFullscreenElement webkitFullscreenEnabled webkitfullscreenchange webkitfullscreenerror".split(" "),
"webkitRequestFullScreen webkitCancelFullScreen webkitCurrentFullScreenElement webkitCancelFullScreen webkitfullscreenchange webkitfullscreenerror".split(" "),"mozRequestFullScreen mozCancelFullScreen mozFullScreenElement mozFullScreenEnabled mozfullscreenchange mozfullscreenerror".split(" "),"msRequestFullscreen msExitFullscreen msFullscreenElement msFullscreenEnabled MSFullscreenChange MSFullscreenError".split(" ")],f=0,e=d.length,c={};f<e;f++)if((a=d[f])&&a[1]in b){for(f=0;f<a.length;f++)c[d[0][f]]=
a[f];return c}return!1}(),a={change:e.fullscreenchange,error:e.fullscreenerror},n={request:function(a){var d=e.requestFullscreen;a=a||b.documentElement;if(/5\.1[.\d]* Safari/.test(navigator.userAgent))a[d]();else a[d](h&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){b[e.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(a){this.on("change",a)},onerror:function(a){this.on("error",a)},on:function(k,d){var f=a[k];f&&b.addEventListener(f,d,!1)},off:function(k,
d){var f=a[k];f&&b.removeEventListener(f,d,!1)},raw:e};e?(Object.defineProperties(n,{isFullscreen:{get:function(){return!!b[e.fullscreenElement]}},element:{enumerable:!0,get:function(){return b[e.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!b[e.fullscreenEnabled]}}}),g?module.exports=n:window.screenfull=n):g?module.exports=!1:window.screenfull=!1})();
(function(){function b(p){p=String(p);return p.charAt(0).toUpperCase()+p.slice(1)}function g(p,c){var a=-1,d=p?p.length:0;if("number"==typeof d&&-1<d&&d<=t)for(;++a<d;)c(p[a],a,p);else e(p,c)}function h(p){p=String(p).replace(/^ +| +$/g,"");return/^(?:webOS|i(?:OS|P))/.test(p)?p:b(p)}function e(p,c){for(var a in p)m.call(p,a)&&c(p[a],a,p)}function a(p){return null==p?b(p):q.call(p).slice(8,-1)}function n(p,c){var a=null!=p?typeof p[c]:"number";return!/^(?:boolean|number|string|undefined)$/.test(a)&&
("object"==a?!!p[c]:!0)}function k(p){return String(p).replace(/([ -])(?!$)/g,"$1?")}function d(p,c){var a=null;g(p,function(d,f){a=c(a,d,f,p)});return a}function f(p){function b(c){return d(c,function(c,a){var d=a.pattern||k(a);!c&&(c=RegExp("\\b"+d+" *\\d+[.\\w_]*","i").exec(p)||RegExp("\\b"+d+" *\\w+-[\\w]*","i").exec(p)||RegExp("\\b"+d+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(p))&&((c=String(a.label&&!RegExp(d,"i").test(a.label)?a.label:c).split("/"))[1]&&!/[\d.]+/.test(c[0])&&(c[0]+=
" "+c[1]),a=a.label||a,c=h(c[0].replace(RegExp(d,"i"),a).replace(RegExp("; *(?:"+a+"[_-])?","i")," ").replace(RegExp("("+a+")[-_.]?(\\w)","i"),"$1 $2")));return c})}function g(c){return d(c,function(c,a){return c||(RegExp(a+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(p)||0)[1]||null})}var l=c,m=p&&"object"==typeof p&&"String"!=a(p);m&&(l=p,p=null);var u=l.navigator||{},t=u.userAgent||"";p||(p=t);var w=m?!!u.likeChrome:/\bChrome\b/.test(p)&&!/internal|\n/i.test(q.toString()),
x=m?"Object":"ScriptBridgingProxyObject",B=m?"Object":"Environment",G=m&&l.java?"JavaPackage":a(l.java),V=m?"Object":"RuntimeObject";B=(G=/\bJava/.test(G)&&l.java)&&a(l.environment)==B;var W=G?"a":"\u03b1",X=G?"b":"\u03b2",S=l.document||{},L=l.operamini||l.opera,P=v.test(P=m&&L?L["[[Class]]"]:a(L))?P:L=null,r,Q=p;m=[];var R=null,M=p==t;t=M&&L&&"function"==typeof L.version&&L.version();var C=function(c){return d(c,function(c,a){return c||RegExp("\\b"+(a.pattern||k(a))+"\\b","i").exec(p)&&(a.label||
a)})}([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),y=function(c){return d(c,function(c,a){return c||RegExp("\\b"+(a.pattern||k(a))+"\\b","i").exec(p)&&(a.label||a)})}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser",
"PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},
{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),D=b([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad",
"iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),J=function(c){return d(c,function(c,a,d){return c||(a[D]||a[/^[a-z]+(?: +[a-z]+\b)*/i.exec(D)]||RegExp("\\b"+k(d)+"(?:\\b|\\w*\\d)","i").exec(p))&&d})}({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},
"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),z=function(c){return d(c,function(c,a){var d=a.pattern||k(a);if(!c&&(c=RegExp("\\b"+d+"(?:/[\\d.]+|[ \\w.]*)","i").exec(p))){var f=c,b=a.label||a,A={"10.0":"10","6.4":"10 Technical Preview",
"6.3":"8.1","6.2":"8","6.1":"Server 2008 R2 / 7","6.0":"Server 2008 / Vista","5.2":"Server 2003 / XP 64-bit","5.1":"XP","5.01":"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};d&&b&&/^Win/i.test(f)&&!/^Windows Phone /i.test(f)&&(A=A[/[\d.]+$/.exec(f)])&&(f="Windows "+A);f=String(f);d&&b&&(f=f.replace(RegExp(d,"i"),b));c=f=h(f.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/,
" $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}return c})}(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac",
"Windows 98;","Windows "]);C&&(C=[C]);J&&!D&&(D=b([J]));if(r=/\bGoogle TV\b/.exec(D))D=r[0];/\bSimulator\b/i.test(p)&&(D=(D?D+" ":"")+"Simulator");"Opera Mini"==y&&/\bOPiOS\b/.test(p)&&m.push("running in Turbo/Uncompressed mode");"IE"==y&&/\blike iPhone OS\b/.test(p)?(r=f(p.replace(/like iPhone OS/,"")),J=r.manufacturer,D=r.product):/^iP/.test(D)?(y||(y="Safari"),z="iOS"+((r=/ OS ([\d_]+)/i.exec(p))?" "+r[1].replace(/_/g,"."):"")):"Konqueror"!=y||/buntu/i.test(z)?J&&"Google"!=J&&(/Chrome/.test(y)&&
!/\bMobile Safari\b/i.test(p)||/\bVita\b/.test(D))||/\bAndroid\b/.test(z)&&/^Chrome/.test(y)&&/\bVersion\//i.test(p)?(y="Android Browser",z=/\bAndroid\b/.test(z)?z:"Android"):"Silk"==y?(/\bMobi/i.test(p)||(z="Android",m.unshift("desktop mode")),/Accelerated *= *true/i.test(p)&&m.unshift("accelerated")):"PaleMoon"==y&&(r=/\bFirefox\/([\d.]+)\b/.exec(p))?m.push("identifying as Firefox "+r[1]):"Firefox"==y&&(r=/\b(Mobile|Tablet|TV)\b/i.exec(p))?(z||(z="Firefox OS"),D||(D=r[1])):!y||(r=!/\bMinefield\b/i.test(p)&&
/\b(?:Firefox|Safari)\b/.exec(y))?(y&&!D&&/[\/,]|^[^(]+?\)/.test(p.slice(p.indexOf(r+"/")+8))&&(y=null),(r=D||J||z)&&(D||J||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(z))&&(y=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(z)?z:r)+" Browser")):"Electron"==y&&(r=(/\bChrome\/([\d.]+)\b/.exec(p)||0)[1])&&m.push("Chromium "+r):z="Kubuntu";t||(t=g(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",k(y),"(?:Firefox|Minefield|NetFront)"]));
if(r="iCab"==C&&3<parseFloat(t)&&"WebKit"||/\bOpera\b/.test(y)&&(/\bOPR\b/.test(p)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(p)&&!/^(?:Trident|EdgeHTML)$/.test(C)&&"WebKit"||!C&&/\bMSIE\b/i.test(p)&&("Mac OS"==z?"Tasman":"Trident")||"WebKit"==C&&/\bPlayStation\b(?! Vita\b)/i.test(y)&&"NetFront")C=[r];"IE"==y&&(r=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(p)||0)[1])?(y+=" Mobile",z="Windows Phone "+(/\+$/.test(r)?r:r+".x"),m.unshift("desktop mode")):/\bWPDesktop\b/i.test(p)?(y="IE Mobile",z="Windows Phone 8.x",
m.unshift("desktop mode"),t||(t=(/\brv:([\d.]+)/.exec(p)||0)[1])):"IE"!=y&&"Trident"==C&&(r=/\brv:([\d.]+)/.exec(p))&&(y&&m.push("identifying as "+y+(t?" "+t:"")),y="IE",t=r[1]);if(M){if(n(l,"global"))if(G&&(r=G.lang.System,Q=r.getProperty("os.arch"),z=z||r.getProperty("os.name")+" "+r.getProperty("os.version")),B){try{t=l.require("ringo/engine").version.join("."),y="RingoJS"}catch(U){(r=l.system)&&r.global.system==l.system&&(y="Narwhal",z||(z=r[0].os||null))}y||(y="Rhino")}else"object"==typeof l.process&&
!l.process.browser&&(r=l.process)&&("object"==typeof r.versions&&("string"==typeof r.versions.electron?(m.push("Node "+r.versions.node),y="Electron",t=r.versions.electron):"string"==typeof r.versions.nw&&(m.push("Chromium "+t,"Node "+r.versions.node),y="NW.js",t=r.versions.nw)),y||(y="Node.js",Q=r.arch,z=r.platform,t=(t=/[\d.]+/.exec(r.version))?t[0]:null));else a(r=l.runtime)==x?(y="Adobe AIR",z=r.flash.system.Capabilities.os):a(r=l.phantom)==V?(y="PhantomJS",t=(r=r.version||null)&&r.major+"."+r.minor+
"."+r.patch):"number"==typeof S.documentMode&&(r=/\bTrident\/(\d+)/i.exec(p))?(t=[t,S.documentMode],(r=+r[1]+4)!=t[1]&&(m.push("IE "+t[1]+" mode"),C&&(C[1]=""),t[1]=r),t="IE"==y?String(t[1].toFixed(1)):t[0]):"number"==typeof S.documentMode&&/^(?:Chrome|Firefox)\b/.test(y)&&(m.push("masking as "+y+" "+t),y="IE",t="11.0",C=["Trident"],z="Windows");z=z&&h(z)}t&&(r=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(t)||/(?:alpha|beta)(?: ?\d)?/i.exec(p+";"+(M&&u.appMinorVersion))||/\bMinefield\b/i.test(p)&&
"a")&&(R=/b/i.test(r)?"beta":"alpha",t=t.replace(RegExp(r+"\\+?$"),"")+("beta"==R?X:W)+(/\d+\+?/.exec(r)||""));if("Fennec"==y||"Firefox"==y&&/\b(?:Android|Firefox OS)\b/.test(z))y="Firefox Mobile";else if("Maxthon"==y&&t)t=t.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(D))"Xbox 360"==D&&(z=null),"Xbox 360"==D&&/\bIEMobile\b/.test(p)&&m.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(y)&&(!y||D||/Browser|Mobi/.test(y))||"Windows CE"!=z&&!/Mobi/i.test(p))if("IE"==y&&M)try{null===l.external&&
m.unshift("platform preview")}catch(U){m.unshift("embedded")}else(/\bBlackBerry\b/.test(D)||/\bBB10\b/.test(p))&&(r=(RegExp(D.replace(/ +/g," *")+"/([.\\d]+)","i").exec(p)||0)[1]||t)?(r=[r,/BB10/.test(p)],z=(r[1]?(D=null,J="BlackBerry"):"Device Software")+" "+r[0],t=null):this!=e&&"Wii"!=D&&(M&&L||/Opera/.test(y)&&/\b(?:MSIE|Firefox)\b/i.test(p)||"Firefox"==y&&/\bOS X (?:\d+\.){2,}/.test(z)||"IE"==y&&(z&&!/^Win/.test(z)&&5.5<t||/\bWindows XP\b/.test(z)&&8<t||8==t&&!/\bTrident\b/.test(p)))&&!v.test(r=
f.call(e,p.replace(v,"")+";"))&&r.name&&(r="ing as "+r.name+((r=r.version)?" "+r:""),v.test(y)?(/\bIE\b/.test(r)&&"Mac OS"==z&&(z=null),r="identify"+r):(r="mask"+r,y=P?h(P.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(r)&&(z=null),M||(t=null)),C=["Presto"],m.push(r));else y+=" Mobile";if(r=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(p)||0)[1]){r=[parseFloat(r.replace(/\.(\d)$/,".0$1")),r];if("Safari"==y&&"+"==r[1].slice(-1))y="WebKit Nightly",R="alpha",t=r[1].slice(0,-1);else if(t==r[1]||t==(r[2]=
(/\bSafari\/([\d.]+\+?)/i.exec(p)||0)[1]))t=null;r[1]=(/\bChrome\/([\d.]+)/i.exec(p)||0)[1];537.36==r[0]&&537.36==r[2]&&28<=parseFloat(r[1])&&"WebKit"==C&&(C=["Blink"]);M&&(w||r[1])?(C&&(C[1]="like Chrome"),r=r[1]||(r=r[0],530>r?1:532>r?2:532.05>r?3:533>r?4:534.03>r?5:534.07>r?6:534.1>r?7:534.13>r?8:534.16>r?9:534.24>r?10:534.3>r?11:535.01>r?12:535.02>r?"13+":535.07>r?15:535.11>r?16:535.19>r?17:536.05>r?18:536.1>r?19:537.01>r?20:537.11>r?"21+":537.13>r?23:537.18>r?24:537.24>r?25:537.36>r?26:"Blink"!=
C?"27":"28")):(C&&(C[1]="like Safari"),r=(r=r[0],400>r?1:500>r?2:526>r?3:533>r?4:534>r?"4+":535>r?5:537>r?6:538>r?7:601>r?8:"8"));C&&(C[1]+=" "+(r+="number"==typeof r?".x":/[.+]/.test(r)?"":"+"));"Safari"==y&&(!t||45<parseInt(t))&&(t=r)}"Opera"==y&&(r=/\bzbov|zvav$/.exec(z))?(y+=" ",m.unshift("desktop mode"),"zvav"==r?(y+="Mini",t=null):y+="Mobile",z=z.replace(RegExp(" *"+r+"$"),"")):"Safari"==y&&/\bChrome\b/.exec(C&&C[1])&&(m.unshift("desktop mode"),y="Chrome Mobile",t=null,/\bOS X\b/.test(z)?(J=
"Apple",z="iOS 4.3+"):z=null);t&&0==t.indexOf(r=/[\d.]+$/.exec(z))&&-1<p.indexOf("/"+r+"-")&&(z=String(z.replace(r,"")).replace(/^ +| +$/g,""));C&&!/\b(?:Avant|Nook)\b/.test(y)&&(/Browser|Lunascape|Maxthon/.test(y)||"Safari"!=y&&/^iOS/.test(z)&&/\bSafari\b/.test(C[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test(y)&&C[1])&&(r=C[C.length-1])&&m.push(r);m.length&&(m=["("+m.join("; ")+")"]);J&&D&&0>D.indexOf(J)&&m.push("on "+J);D&&m.push((/^on /.test(m[m.length-
1])?"":"on ")+D);if(z){var T=(r=/ ([\d.+]+)$/.exec(z))&&"/"==z.charAt(z.length-r[0].length-1);z={architecture:32,family:r&&!T?z.replace(r[0],""):z,version:r?r[1]:null,toString:function(){var c=this.version;return this.family+(c&&!T?" "+c:"")+(64==this.architecture?" 64-bit":"")}}}(r=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Q))&&!/\bi686\b/i.test(Q)?(z&&(z.architecture=64,z.family=z.family.replace(RegExp(" *"+r),"")),y&&(/\bWOW64\b/i.test(p)||M&&/\w(?:86|32)$/.test(u.cpuClass||u.platform)&&!/\bWin64; x64\b/i.test(p))&&
m.unshift("32-bit")):z&&/^OS X/.test(z.family)&&"Chrome"==y&&39<=parseFloat(t)&&(z.architecture=64);p||(p=null);l={};l.description=p;l.layout=C&&C[0];l.manufacturer=J;l.name=y;l.prerelease=R;l.product=D;l.ua=p;l.version=y&&t;l.os=z||{architecture:null,family:null,version:null,toString:function(){return"null"}};l.parse=f;l.toString=function(){return this.description||""};l.version&&m.unshift(t);l.name&&m.unshift(y);z&&y&&(z!=String(z).split(" ")[0]||z!=y.split(" ")[0]&&!D)&&m.push(D?"("+z+")":"on "+
z);m.length&&(l.description=m.join(" "));return l}var l={"function":!0,object:!0},c=l[typeof window]&&window||this,u=l[typeof exports]&&exports;l=l[typeof module]&&module&&!module.nodeType&&module;var x=u&&l&&"object"==typeof global&&global;!x||x.global!==x&&x.window!==x&&x.self!==x||(c=x);var t=Math.pow(2,53)-1,v=/\bOpera/;x=Object.prototype;var m=x.hasOwnProperty,q=x.toString,w=f();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(c.platform=w,define(function(){return w})):u&&
l?e(w,function(c,a){u[a]=c}):c.platform=w}).call(this);
function buildIOSMeta(){for(var b=[{name:"viewport",content:"width=device-width, height=device-height, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no"},{name:"apple-mobile-web-app-capable",content:"yes"},{name:"apple-mobile-web-app-status-bar-style",content:"black"}],g=0;g<b.length;g++){var h=document.createElement("meta");h.name=b[g].name;h.content=b[g].content;var e=window.document.head.querySelector('meta[name="'+h.name+'"]');e&&e.parentNode.removeChild(e);window.document.head.appendChild(h)}}
function hideIOSFullscreenPanel(){jQuery(".xxx-ios-fullscreen-message").css("display","none");jQuery(".xxx-ios-fullscreen-scroll").css("display","none");jQuery(".xxx-game-iframe-full").removeClass("xxx-game-iframe-iphone-se")}function buildIOSFullscreenPanel(){jQuery("body").append('<div class="xxx-ios-fullscreen-message"><div class="xxx-ios-fullscreen-swipe"></div></div><div class="xxx-ios-fullscreen-scroll"></div>')}
function showIOSFullscreenPanel(){jQuery(".xxx-ios-fullscreen-message").css("display","block");jQuery(".xxx-ios-fullscreen-scroll").css("display","block")}
function __iosResize(){window.scrollTo(0,0);console.log(window.devicePixelRatio);console.log(window.innerWidth);console.log(window.innerHeight);if("iPhone"===platform.product)switch(window.devicePixelRatio){case 2:switch(window.innerWidth){case 568:320!==window.innerHeight&&jQuery(".xxx-game-iframe-full").addClass("xxx-game-iframe-iphone-se");break;case 667:375===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 808:414===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();
break;default:hideIOSFullscreenPanel()}break;case 3:switch(window.innerWidth){case 736:414===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 724:375===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;case 808:414===window.innerHeight?hideIOSFullscreenPanel():showIOSFullscreenPanel();break;default:hideIOSFullscreenPanel()}break;default:hideIOSFullscreenPanel()}}function iosResize(){__iosResize();setTimeout(function(){__iosResize()},500)}
function iosInIframe(){try{return window.self!==window.top}catch(b){return!0}}$(document).ready(function(){platform&&"iPhone"===platform.product&&"safari"!==platform.name.toLowerCase()&&(buildIOSFullscreenPanel(),buildIOSMeta())});jQuery(window).resize(function(){platform&&"iPhone"===platform.product&&"safari"!==platform.name.toLowerCase()&&iosResize()});var s_iOffsetX=0,s_iOffsetY=0,s_fInverseScaling=0,s_bIsIphone=!1;
(function(b){(jQuery.browser=jQuery.browser||{}).mobile=/android|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(ad|hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|symbian|tablet|treo|up\.(browser|link)|vodafone|wap|webos|windows (ce|phone)|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|e\-|e\/|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(di|rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|xda(\-|2|g)|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4))})(navigator.userAgent||navigator.vendor||window.opera);$(window).resize(function(){sizeHandler()});function trace(b){console.log(b)}function isIOS(){var b="iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";");for(-1!==navigator.userAgent.toLowerCase().indexOf("iphone")&&(s_bIsIphone=!0);b.length;)if(navigator.platform===b.pop())return!0;return s_bIsIphone=!1}window.addEventListener("orientationchange",onOrientationChange);
function onOrientationChange(){window.matchMedia("(orientation: portrait)").matches&&sizeHandler();window.matchMedia("(orientation: landscape)").matches&&sizeHandler()}
function getSize(b){var g=b.toLowerCase(),h=window.document,e=h.documentElement;if(void 0===window["inner"+b])b=e["client"+b];else if(window["inner"+b]!=e["client"+b]){var a=h.createElement("body");a.id="vpw-test-b";a.style.cssText="overflow:scroll";var n=h.createElement("div");n.id="vpw-test-d";n.style.cssText="position:absolute;top:-1000px";n.innerHTML="<style>@media("+g+":"+e["client"+b]+"px){body#vpw-test-b div#vpw-test-d{"+g+":7px!important}}</style>";a.appendChild(n);e.insertBefore(a,h.head);
b=7==n["offset"+b]?e["client"+b]:window["inner"+b];e.removeChild(a)}else b=window["inner"+b];return b}function getIOSWindowHeight(){return document.documentElement.clientWidth/window.innerWidth*window.innerHeight}function getHeightOfIOSToolbars(){var b=(0===window.orientation?screen.height:screen.width)-getIOSWindowHeight();return 1<b?b:0}
function sizeHandler(){window.scrollTo(0,1);if($("#canvas")){var b="safari"===platform.name.toLowerCase()?getIOSWindowHeight():getSize("Height");var g=getSize("Width");_checkOrientation(g,b);s_iScaleFactor=Math.min(b/CANVAS_HEIGHT,g/CANVAS_WIDTH);var h=CANVAS_WIDTH*s_iScaleFactor,e=CANVAS_HEIGHT*s_iScaleFactor;if(e<b){var a=b-e;e+=a;h+=CANVAS_WIDTH/CANVAS_HEIGHT*a}else h<g&&(a=g-h,h+=a,e+=CANVAS_HEIGHT/CANVAS_WIDTH*a);a=b/2-e/2;var n=g/2-h/2,k=CANVAS_WIDTH/h;if(n*k<-EDGEBOARD_X||a*k<-EDGEBOARD_Y)s_iScaleFactor=
Math.min(b/(CANVAS_HEIGHT-2*EDGEBOARD_Y),g/(CANVAS_WIDTH-2*EDGEBOARD_X)),h=CANVAS_WIDTH*s_iScaleFactor,e=CANVAS_HEIGHT*s_iScaleFactor,a=(b-e)/2,n=(g-h)/2,k=CANVAS_WIDTH/h;s_fInverseScaling=k;s_iOffsetX=-1*n*k;s_iOffsetY=-1*a*k;0<=a&&(s_iOffsetY=0);0<=n&&(s_iOffsetX=0);null!==s_oInterface&&s_oInterface.refreshButtonPos(s_iOffsetX,s_iOffsetY);null!==s_oMenu&&s_oMenu.refreshButtonPos(s_iOffsetX,s_iOffsetY);s_bIsIphone?(canvas=document.getElementById("canvas"),s_oStage.canvas.width=2*h,s_oStage.canvas.height=
2*e,canvas.style.width=h+"px",canvas.style.height=e+"px",g=Math.min(h/CANVAS_WIDTH,e/CANVAS_HEIGHT),s_iScaleFactor=2*g,s_oStage.scaleX=s_oStage.scaleY=2*g):s_bMobile&&!1===isIOS()?($("#canvas").css("width",h+"px"),$("#canvas").css("height",e+"px")):(s_oStage.canvas.width=h,s_oStage.canvas.height=e,s_iScaleFactor=Math.min(h/CANVAS_WIDTH,e/CANVAS_HEIGHT),s_oStage.scaleX=s_oStage.scaleY=s_iScaleFactor);0>a||(a=(b-e)/2);$("#canvas").css("top",a+"px");s_iCanvasOffsetHeight=a;$("#canvas").css("left",n+
"px");s_iCanvasResizeWidth=h;s_iCanvasResizeHeight=e;s_iCanvasOffsetWidth=n;fullscreenHandler()}}
function _checkOrientation(b,g){s_bMobile&&ENABLE_CHECK_ORIENTATION&&(b>g?"landscape"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),s_oMain.stopUpdate()):"portrait"===$(".orientation-msg-container").attr("data-orientation")?($(".orientation-msg-container").css("display","none"),s_oMain.startUpdate()):($(".orientation-msg-container").css("display","block"),
s_oMain.stopUpdate()))}function createBitmap(b,g,h){var e=new createjs.Bitmap(b),a=new createjs.Shape;g&&h?a.graphics.beginFill("#fff").drawRect(-g/2,-h/2,g,h):a.graphics.beginFill("#ff0").drawRect(0,0,b.width,b.height);e.hitArea=a;return e}function createSprite(b,g,h,e,a,n){b=null!==g?new createjs.Sprite(b,g):new createjs.Sprite(b);g=new createjs.Shape;g.graphics.beginFill("#000000").drawRect(-h,-e,a,n);b.hitArea=g;return b}
function roundDecimal(b,g){var h=Math.pow(10,g);return Math.round(h*b)/h}function randomFloatBetween(b,g,h){"undefined"===typeof h&&(h=2);return parseFloat(Math.min(b+Math.random()*(g-b),g).toFixed(h))}function shuffle(b){for(var g=b.length,h,e;0!==g;)e=Math.floor(Math.random()*g),--g,h=b[g],b[g]=b[e],b[e]=h;return b}function formatTime(b){b/=1E3;var g=Math.floor(b/60);b=parseFloat(b-60*g).toFixed(1);var h="";h=10>g?h+("0"+g+":"):h+(g+":");return 10>b?h+("0"+b):h+b}
function degreesToRadians(b){return b*Math.PI/180}function checkRectCollision(b,g){var h=getBounds(b,.9);var e=getBounds(g,.98);return calculateIntersection(h,e)}
function calculateIntersection(b,g){var h,e,a,n;var k=b.x+(h=b.width/2);var d=b.y+(e=b.height/2);var f=g.x+(a=g.width/2);var l=g.y+(n=g.height/2);k=Math.abs(k-f)-(h+a);d=Math.abs(d-l)-(e+n);return 0>k&&0>d?(k=Math.min(Math.min(b.width,g.width),-k),d=Math.min(Math.min(b.height,g.height),-d),{x:Math.max(b.x,g.x),y:Math.max(b.y,g.y),width:k,height:d,rect1:b,rect2:g}):null}
function getBounds(b,g){var h={x:Infinity,y:Infinity,width:0,height:0};if(b instanceof createjs.Container){h.x2=-Infinity;h.y2=-Infinity;var e=b.children,a=e.length,n;for(n=0;n<a;n++){var k=getBounds(e[n],1);k.x<h.x&&(h.x=k.x);k.y<h.y&&(h.y=k.y);k.x+k.width>h.x2&&(h.x2=k.x+k.width);k.y+k.height>h.y2&&(h.y2=k.y+k.height)}Infinity==h.x&&(h.x=0);Infinity==h.y&&(h.y=0);Infinity==h.x2&&(h.x2=0);Infinity==h.y2&&(h.y2=0);h.width=h.x2-h.x;h.height=h.y2-h.y;delete h.x2;delete h.y2}else{if(b instanceof createjs.Bitmap){a=
b.sourceRect||b.image;n=a.width*g;var d=a.height*g}else if(b instanceof createjs.Sprite)if(b.spriteSheet._frames&&b.spriteSheet._frames[b.currentFrame]&&b.spriteSheet._frames[b.currentFrame].image){a=b.spriteSheet.getFrame(b.currentFrame);n=a.rect.width;d=a.rect.height;e=a.regX;var f=a.regY}else h.x=b.x||0,h.y=b.y||0;else h.x=b.x||0,h.y=b.y||0;e=e||0;n=n||0;f=f||0;d=d||0;h.regX=e;h.regY=f;a=b.localToGlobal(0-e,0-f);k=b.localToGlobal(n-e,d-f);n=b.localToGlobal(n-e,0-f);e=b.localToGlobal(0-e,d-f);h.x=
Math.min(Math.min(Math.min(a.x,k.x),n.x),e.x);h.y=Math.min(Math.min(Math.min(a.y,k.y),n.y),e.y);h.width=Math.max(Math.max(Math.max(a.x,k.x),n.x),e.x)-h.x;h.height=Math.max(Math.max(Math.max(a.y,k.y),n.y),e.y)-h.y}return h}function NoClickDelay(b){this.element=b;window.Touch&&this.element.addEventListener("touchstart",this,!1)}
NoClickDelay.prototype={handleEvent:function(b){switch(b.type){case "touchstart":this.onTouchStart(b);break;case "touchmove":this.onTouchMove(b);break;case "touchend":this.onTouchEnd(b)}},onTouchStart:function(b){b.preventDefault();this.moved=!1;this.element.addEventListener("touchmove",this,!1);this.element.addEventListener("touchend",this,!1)},onTouchMove:function(b){this.moved=!0},onTouchEnd:function(b){this.element.removeEventListener("touchmove",this,!1);this.element.removeEventListener("touchend",
this,!1);if(!this.moved){b=document.elementFromPoint(b.changedTouches[0].clientX,b.changedTouches[0].clientY);3==b.nodeType&&(b=b.parentNode);var g=document.createEvent("MouseEvents");g.initEvent("click",!0,!0);b.dispatchEvent(g)}}};
(function(){function b(b){var e={focus:"visible",focusin:"visible",pageshow:"visible",blur:"hidden",focusout:"hidden",pagehide:"hidden"};b=b||window.event;b.type in e?document.body.className=e[b.type]:(document.body.className=this[g]?"hidden":"visible","hidden"===document.body.className?s_oMain.stopUpdate():s_oMain.startUpdate())}var g="hidden";g in document?document.addEventListener("visibilitychange",b):(g="mozHidden")in document?document.addEventListener("mozvisibilitychange",b):(g="webkitHidden")in
document?document.addEventListener("webkitvisibilitychange",b):(g="msHidden")in document?document.addEventListener("msvisibilitychange",b):"onfocusin"in document?document.onfocusin=document.onfocusout=b:window.onpageshow=window.onpagehide=window.onfocus=window.onblur=b})();function playSound(b,g,h){return!1===DISABLE_SOUND_MOBILE||!1===s_bMobile?(s_aSounds[b].play(),s_aSounds[b].volume(g),s_aSounds[b].loop(h),s_aSounds[b]):null}
function stopSound(b){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[b].stop()}function setVolume(b,g){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[b].volume(g)}function setMute(b,g){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||s_aSounds[b].mute(g)}function ctlArcadeResume(){null!==s_oMain&&s_oMain.startUpdate()}function ctlArcadePause(){null!==s_oMain&&s_oMain.stopUpdate()}
function getParamValue(b){for(var g=window.location.search.substring(1).split("&"),h=0;h<g.length;h++){var e=g[h].split("=");if(e[0]==b)return e[1]}}function fullscreenHandler(){ENABLE_FULLSCREEN&&!1!==screenfull.enabled&&(s_bFullscreen=screenfull.isFullscreen,null!==s_oInterface&&s_oInterface.resetFullscreenBut(),null!==s_oMenu&&s_oMenu.resetFullscreenBut())}
if(screenfull.enabled)screenfull.on("change",function(){s_bFullscreen=screenfull.isFullscreen;null!==s_oInterface&&s_oInterface.resetFullscreenBut();null!==s_oMenu&&s_oMenu.resetFullscreenBut()});
function CSpriteLibrary(){var b={},g,h,e,a,n,k;this.init=function(d,f,b){g={};e=h=0;a=d;n=f;k=b};this.addSprite=function(a,f){if(!b.hasOwnProperty(a)){var d=new Image;b[a]=g[a]={szPath:f,oSprite:d,bLoaded:!1};h++}};this.getSprite=function(a){return b.hasOwnProperty(a)?b[a].oSprite:null};this._onSpritesLoaded=function(){h=0;n.call(k)};this._onSpriteLoaded=function(){a.call(k);++e===h&&this._onSpritesLoaded()};this.loadSprites=function(){for(var a in g)g[a].oSprite.oSpriteLibrary=this,g[a].oSprite.szKey=
a,g[a].oSprite.onload=function(){this.oSpriteLibrary.setLoaded(this.szKey);this.oSpriteLibrary._onSpriteLoaded(this.szKey)},g[a].oSprite.onerror=function(a){var d=a.currentTarget;setTimeout(function(){g[d.szKey].oSprite.src=g[d.szKey].szPath},500)},g[a].oSprite.src=g[a].szPath};this.setLoaded=function(a){b[a].bLoaded=!0};this.isLoaded=function(a){return b[a].bLoaded};this.getNumSprites=function(){return h}}
var CANVAS_WIDTH=1280,CANVAS_HEIGHT=768,EDGEBOARD_X=90,EDGEBOARD_Y=95,FPS=30,FPS_TIME=1E3/FPS,DISABLE_SOUND_MOBILE=!1,STATE_LOADING=0,STATE_MENU=1,STATE_HELP=1,STATE_GAME=3,STATE_GAME_WAITING_FOR_BET=0,STATE_GAME_SPINNING=1,STATE_GAME_SHOW_WINNER=2,STATE_DISTRIBUTE_FICHES=3,ON_SHOW_BET_ON_TABLE=0,ON_SHOW_ENLIGHT=1,ON_HIDE_ENLIGHT=2,ON_MOUSE_DOWN=0,ON_MOUSE_UP=1,ON_MOUSE_OVER=2,ON_MOUSE_OUT=3,ON_DRAG_START=4,ON_DRAG_END=5,ON_CONTROLLER_END=6,ON_CONTROLLER_REMOVE=7,ON_CONTROLLER_ROLL=8,COLOR_RED="red",
COLOR_BLACK="black",COLOR_ZERO="zero",TOTAL_MONEY,NUM_FICHE_VALUES=6,NUMBERS_TO_BET=37,NUM_FICHES=6,MIN_BET,MAX_BET,WIN_OCCURRENCE,TIME_WAITING_BET,TIME_SHOW_WINNER,TIME_FICHES_MOV=1500,NUM_MASK_BALL_SPIN_FRAMES=100,NUM_BALL_SPIN_FRAMES=200,NUM_HAND_FOR_ADS,WIDTH_CELL_NUMBER,HEIGHT_CELL_NUMBER,ROW_HISTORY=19,FONT1="arialbold",FONT2="plantagenet_cherokeeregular",ENABLE_FULLSCREEN,ENABLE_CHECK_ORIENTATION,SHOW_CREDITS;
function CRouletteSettings(){var b,g,h,e,a;this._init=function(){var a=s_oSpriteLibrary.getSprite("hit_area_number");WIDTH_CELL_NUMBER=a.width;HEIGHT_CELL_NUMBER=a.height;this._initAttachFiches();b=[.1,1,5,10,25,100];h=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35];g=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];e=[[]];e[0][0]=70;e[0][1]=8;e[0][2]=54;e[0][3]=76;e[0][4]=59;e[0][5]=19;e[0][6]=43;e[0][7]=86;e[0][8]=27;e[0][9]=96;e[0][10]=21;e[0][11]=32;e[0][12]=81;e[0][13]=38;e[0][14]=3;e[0][15]=
65;e[0][16]=13;e[0][17]=48;e[0][18]=92;e[0][19]=62;e[0][20]=5;e[0][21]=57;e[0][22]=95;e[0][23]=24;e[0][24]=16;e[0][25]=51;e[0][26]=73;e[0][27]=40;e[0][28]=84;e[0][29]=89;e[0][30]=30;e[0][31]=0;e[0][32]=68;e[0][33]=11;e[0][34]=46;e[0][35]=78;e[0][36]=35};this._initAttachFiches=function(){a=[];a.bet_0={x:53,y:117};for(var b=127,k=196,d=1;37>d;d++)a["bet_"+d]={x:b,y:k},0===d%3?(b+=WIDTH_CELL_NUMBER+3,k=196):k-=HEIGHT_CELL_NUMBER+3;a.bet_0_1={x:97,y:195};a.bet_0_2={x:97,y:120};a.bet_0_3={x:97,y:45};b=
159;k=194;for(var f=1;34>f;f++)a["bet_"+f+"_"+(f+3)]={x:b,y:k},0===f%3?(b+=WIDTH_CELL_NUMBER+3,k=194):k-=HEIGHT_CELL_NUMBER+3;b=128;k=157;for(f=d=1;25>f;f++)a["bet_"+d+"_"+(d+1)]={x:b,y:k},0===f%2?(b+=WIDTH_CELL_NUMBER+3,k=157,d+=2):(k-=HEIGHT_CELL_NUMBER+3,d++);a.bet_0_1_2={x:96,y:158};a.bet_0_2_3={x:96,y:84};b=128;k=232;for(f=d=1;13>f;f++)a["bet_"+d+"_"+(d+1)+"_"+(d+2)]={x:b,y:k},b+=WIDTH_CELL_NUMBER+3,d+=3;a.bet_0_1_2_3={x:96,y:232};k=b=158;for(f=d=1;23>f;f++)a["bet_"+d+"_"+(d+1)+"_"+(d+3)+"_"+
(d+4)]={x:b,y:k},0===f%2?(b+=WIDTH_CELL_NUMBER+3,k=157,d+=2):(k-=HEIGHT_CELL_NUMBER+3,d++);b=158;k=232;for(f=d=1;12>f;f++)a["bet_"+d+"_"+(d+1)+"_"+(d+2)+"_"+(d+3)+"_"+(d+4)+"_"+(d+5)]={x:b,y:k},d+=3,b+=WIDTH_CELL_NUMBER+3;a.col1={x:872,y:194};a.col2={x:872,y:120};a.col3={x:872,y:46};a.first12={x:220,y:289};a.second12={x:469,y:289};a.third12={x:717,y:289};a.first18={x:159,y:400};a.even={x:281,y:400};a.black={x:409,y:400};a.red={x:533,y:400};a.odd={x:656,y:400};a.second18={x:778,y:400};a.oDealerWin=
{x:CANVAS_WIDTH/2,y:-232};a.oReceiveWin={x:CANVAS_WIDTH/2,y:CANVAS_HEIGHT+100}};this.generateFichesPileByIndex=function(a){var k=[],d=b.length-1,f=b[d];do{var e=a%f;e=roundDecimal(e,1);a=roundDecimal(a/f,1);a=Math.floor(a);for(var c=0;c<a;c++)k.push(this.getFicheIndexByValue(f));d--;f=b[d];a=e}while(0<e&&-1<d);return k};this.getNumbersForButton=function(a){switch(a){case "col1":var b=[1,4,7,10,13,16,19,22,25,28,31,34];break;case "col2":b=[2,5,8,11,14,17,20,23,26,29,32,35];break;case "col3":b=[3,6,
9,12,15,18,21,24,27,30,33,36];break;case "first12":b=[1,2,3,4,5,6,7,8,9,10,11,12];break;case "second12":b=[13,14,15,16,17,18,19,20,21,22,23,24];break;case "third12":b=[25,26,27,28,29,30,31,32,33,34,35,36];break;case "first18":b=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18];break;case "second18":b=[19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36];break;case "even":b=[2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36];break;case "black":b=[2,4,6,8,10,11,13,15,17,20,22,24,26,28,29,31,33,35];break;
case "red":b=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36];break;case "odd":b=[1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35];break;case "oBetVoisinsZero":b=[22,18,29,7,28,12,35,3,26,0,32,15,19,4,21,2,25];break;case "oBetTier":b=[27,13,36,11,30,8,23,10,5,24,16,33];break;case "oBetOrphelins":b=[1,6,9,14,17,20,31,34]}return b};this.getBetMultiplierForButton=function(a){switch(a){case "oBetFirstRow":var b=12;break;case "oBetSecondRow":b=12;break;case "oBetThirdRow":b=12;break;case "oBetFirst12":b=
12;break;case "oBetSecond12":b=12;break;case "oBetThird12":b=12;break;case "oBetFirst18":b=18;break;case "oBetSecond18":b=18;break;case "oBetEven":b=18;break;case "oBetBlack":b=18;break;case "oBetRed":b=18;break;case "oBetOdd":b=18;break;case "oBetVoisinsZero":b=17;break;case "oBetTier":b=12;break;case "oBetOrphelins":b=8;break;case "oBetFinalsBet":b=4}return b};this.getBetWinForButton=function(a){switch(a){case "oBetFirstRow":var b=3;break;case "oBetSecondRow":b=3;break;case "oBetThirdRow":b=3;break;
case "oBetFirst12":b=3;break;case "oBetSecond12":b=3;break;case "oBetThird12":b=3;break;case "oBetFirst18":b=2;break;case "oBetSecond18":b=2;break;case "oBetEven":b=2;break;case "oBetBlack":b=2;break;case "oBetRed":b=2;break;case "oBetOdd":b=2;break;case "oBetVoisinsZero":b=2;break;case "oBetTier":b=3;break;case "oBetOrphelins":b=4;break;case "oBetFinalsBet":b=4}return b};this.getNumFichesPerBet=function(a){switch(a){case "oBetVoisinsZero":var b=9;break;case "oBetTier":b=6;break;case "oBetOrphelins":b=
5}return b};this.getFicheValues=function(a){return b[a]};this.getFicheIndexByValue=function(a){for(var k=0,d=0;d<b.length;d++)if(a===b[d]){k=d;break}return k};this.getColorNumber=function(a){var b;for(b=0;b<h.length;b++)if(h[b]===a)return COLOR_BLACK;for(b=0;b<g.length;b++)if(g[b]===a)return COLOR_RED;return COLOR_ZERO};this.getFrameForBallSpin=function(a,b){return e[a][b]};this.getAttachOffset=function(b){return a[b]};this._init()}
function CFichesController(b){var g,h,e,a,n,k;this._init=function(a){k=a;this.reset()};this.reset=function(){this._removeAllFichesOnTable();g=[];h=[];e=[];a=[];n=[]};this.setFicheOnTable=function(b,f,e){this.addFicheOnTable(b,f,e);a.push({tag:"oBetSingle",num:1})};this.addFicheOnTable=function(a,b,k){void 0===g[b]&&(g[b]=0);var c=s_oGameSettings.getFicheValues(a);g[b]+=c;g[b]=roundDecimal(g[b],1);c=s_oGameSettings.generateFichesPileByIndex(g[b]);c.sort(function(a,b){return a-b});this._removeFichesPile(h[b]);
h[b]=[];var d=s_oGameSettings.getAttachOffset(b),f=d.x;d=d.y;for(var l=0;l<c.length;l++)k.push(this._attachFichesPile(c[l],b,f,d)),d-=5;e.push({index:b,value:a})};this._attachFichesPile=function(a,b,e,c){a=new CFiche(e,c,a,k);h[b].push(a);n.push(a);return a};this.createPileForVoisinZero=function(b,f){this.addFicheOnTable(b,"bet_0_2_3",f);this.addFicheOnTable(b,"bet_0_2_3",f);this.addFicheOnTable(b,"bet_4_7",f);this.addFicheOnTable(b,"bet_12_15",f);this.addFicheOnTable(b,"bet_18_21",f);this.addFicheOnTable(b,
"bet_19_22",f);this.addFicheOnTable(b,"bet_25_26_28_29",f);this.addFicheOnTable(b,"bet_25_26_28_29",f);this.addFicheOnTable(b,"bet_32_35",f);a.push({tag:"oBetVoisinsZero",num:9})};this.createPileForTier=function(b,f){this.addFicheOnTable(b,"bet_5_8",f);this.addFicheOnTable(b,"bet_10_11",f);this.addFicheOnTable(b,"bet_13_16",f);this.addFicheOnTable(b,"bet_23_24",f);this.addFicheOnTable(b,"bet_27_30",f);this.addFicheOnTable(b,"bet_33_36",f);a.push({tag:"oBetTier",num:6})};this.createPileForOrphelins=
function(b,f){this.addFicheOnTable(b,"bet_1",f);this.addFicheOnTable(b,"bet_6_9",f);this.addFicheOnTable(b,"bet_14_17",f);this.addFicheOnTable(b,"bet_17_20",f);this.addFicheOnTable(b,"bet_31_34",f);a.push({tag:"oBetOrphelins",num:5})};this.createPileForMultipleNumbers=function(b,f,e){for(var c=0;c<f.length;c++)this.addFicheOnTable(b,"bet_"+f[c],e);a.push({tag:"oBetMultiple",num:f.length})};this._removeAllFichesOnTable=function(){if(n)for(var a=0;a<n.length;a++)k.contains(n[a].getSprite())&&k.removeChild(n[a].getSprite())};
this._removeFichesPile=function(a){for(var b in a)k.removeChild(a[b].getSprite())};this.clearLastBet=function(){if(0===a.length)return 0;for(var b=a.pop().num,f,k=0;k<b;k++){var c=e.pop();f=s_oGameSettings.getFicheValues(c.value);g[c.index]-=f;g[c.index]=roundDecimal(g[c.index],1);var n=s_oGameSettings.generateFichesPileByIndex(g[c.index]);n.sort(function(a,b){return a-b});this._removeFichesPile(h[c.index]);h[c.index]=[];var x=s_oGameSettings.getAttachOffset(c.index),t=x.x;x=x.y;for(var v=0;v<n.length;v++)this._attachFichesPile(n[v],
c.index,t,x),x-=5}return f*b};this.clearAllBets=function(){for(var a=e.length,b=0;b<a;b++)this.clearLastBet()};this._init(b)}TEXT_MONEY="MONEY";TEXT_CUR_BET="CUR BET";TEXT_PLAY="PLAY";TEXT_BET="BET";TEXT_COIN="COIN";TEXT_MIN_BET="MIN BET";TEXT_MAX_BET="MAX BET";TEXT_SPIN="SPIN";TEXT_EXIT="EXIT";TEXT_RECHARGE="RECHARGE";TEXT_VOISINS_ZERO="VOISINS DU ZERO";TEXT_TIER="TIER";TEXT_ORPHELINS="ORPHELINS";TEXT_NEIGHBORS="NEIGHBORS";TEXT_FINALSBET="FINALS BET";TEXT_REBET="REBET";TEXT_WIN="WIN";
TEXT_HISTORY="HISTORY";TEXT_YOU_WIN="YOU WON";TEXT_YOU_LOSE="YOU LOST";TEXT_CURRENCY="$";var TEXT_PRELOADER_CONTINUE="START";TEXT_ERROR_NO_MONEY_MSG="NOT ENOUGH MONEY FOR THIS BET!!";TEXT_ERROR_MAX_BET_REACHED="MAX BET REACHED!!";TEXT_ERROR_MIN_BET="YOU BET IS LOWER THAN MINIMUM BET!!";TEXT_NO_MONEY="YOU DON'T HAVE ENOUGH MONEY!!!";TEXT_RECHARGE_MSG="PLEASE CLICK RECHARGE BUTTON TO PLAY AGAIN";var TEXT_CREDITS_DEVELOPED="DEVELOPED BY",TEXT_LINK="WWW.CODETHISLAB.COM";TEXT_CONGRATULATIONS="Congratulations!";
TEXT_SHARE_1="You collected <strong>";TEXT_SHARE_2=" points</strong>!<br><br>Share your score with your friends!";TEXT_SHARE_3="My score is ";TEXT_SHARE_4=" points! Can you do better?";
function CPreloader(){var b,g,h,e,a,n,k,d,f,l;this._init=function(){s_oSpriteLibrary.init(this._onImagesLoaded,this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("progress_bar","./sprites/progress_bar.png");s_oSpriteLibrary.addSprite("200x200","./sprites/200x200.jpg");s_oSpriteLibrary.addSprite("but_start","./sprites/but_start.png");s_oSpriteLibrary.loadSprites();l=new createjs.Container;s_oStage.addChild(l)};this.unload=function(){l.removeAllChildren();f.unload()};this._onImagesLoaded=function(){};
this._onAllImagesLoaded=function(){this.attachSprites();s_oMain.preloaderReady()};this.attachSprites=function(){var c=new createjs.Shape;c.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);l.addChild(c);c=s_oSpriteLibrary.getSprite("200x200");k=createBitmap(c);k.regX=.5*c.width;k.regY=.5*c.height;k.x=CANVAS_WIDTH/2;k.y=CANVAS_HEIGHT/2-180;l.addChild(k);d=new createjs.Shape;d.graphics.beginFill("rgba(0,0,0,0.01)").drawRoundRect(k.x-100,k.y-100,200,200,10);l.addChild(d);k.mask=d;
c=s_oSpriteLibrary.getSprite("progress_bar");e=createBitmap(c);e.x=CANVAS_WIDTH/2-c.width/2;e.y=CANVAS_HEIGHT/2+50;l.addChild(e);b=c.width;g=c.height;a=new createjs.Shape;a.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(e.x,e.y,1,g);l.addChild(a);e.mask=a;h=new createjs.Text("","30px "+FONT1,"#fff");h.x=CANVAS_WIDTH/2;h.y=CANVAS_HEIGHT/2+100;h.textBaseline="alphabetic";h.textAlign="center";l.addChild(h);c=s_oSpriteLibrary.getSprite("but_start");f=new CTextButton(CANVAS_WIDTH/2,CANVAS_HEIGHT/2,c,
TEXT_PRELOADER_CONTINUE,"Arial","#000","bold 50",l);f.addEventListener(ON_MOUSE_UP,this._onButStartRelease,this);f.setVisible(!1);n=new createjs.Shape;n.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);l.addChild(n);createjs.Tween.get(n).to({alpha:0},500).call(function(){createjs.Tween.removeTweens(n);l.removeChild(n)})};this._onButStartRelease=function(){s_oMain._onRemovePreloader()};this.refreshLoader=function(c){h.text=c+"%";100===c&&(s_oMain._onRemovePreloader(),h.visible=
!1,e.visible=!1);a.graphics.clear();c=Math.floor(c*b/100);a.graphics.beginFill("rgba(0,0,0,0.01)").drawRect(e.x,e.y,c,g)};this._init()}
function CMain(b){var g,h=0,e=0,a=STATE_LOADING,n,k;this.initContainer=function(){var a=document.getElementById("canvas");s_oStage=new createjs.Stage(a);createjs.Touch.enable(s_oStage);s_bMobile=jQuery.browser.mobile;!1===s_bMobile&&s_oStage.enableMouseOver(20);s_iPrevTime=(new Date).getTime();createjs.Ticker.setFPS(FPS);createjs.Ticker.addEventListener("tick",this._update);navigator.userAgent.match(/Windows Phone/i)&&(DISABLE_SOUND_MOBILE=!0);s_oSpriteLibrary=new CSpriteLibrary;n=new CPreloader};
this.soundLoaded=function(){h++;n.refreshLoader(Math.floor(h/e*100))};this._initSounds=function(){Howler.mute(!s_bAudioActive);s_aSoundsInfo=[];s_aSoundsInfo.push({path:"./sounds/",filename:"chip",loop:!1,volume:1,ingamename:"chip"});s_aSoundsInfo.push({path:"./sounds/",filename:"click",loop:!1,volume:1,ingamename:"click"});s_aSoundsInfo.push({path:"./sounds/",filename:"fiche_collect",loop:!1,volume:1,ingamename:"fiche_collect"});s_aSoundsInfo.push({path:"./sounds/",filename:"wheel_sound",loop:!0,
volume:1,ingamename:"wheel_sound"});s_aSoundsInfo.push({path:"./sounds/",filename:"win",loop:!1,volume:1,ingamename:"win"});s_aSoundsInfo.push({path:"./sounds/",filename:"lose",loop:!1,volume:1,ingamename:"lose"});e+=s_aSoundsInfo.length;s_aSounds=[];for(var a=0;a<s_aSoundsInfo.length;a++)this.tryToLoadSound(s_aSoundsInfo[a],!1)};this.tryToLoadSound=function(a,b){setTimeout(function(){s_aSounds[a.ingamename]=new Howl({src:[a.path+a.filename+".mp3"],autoplay:!1,preload:!0,loop:a.loop,volume:a.volume,
onload:s_oMain.soundLoaded,onloaderror:function(a,b){for(var c=0;c<s_aSoundsInfo.length;c++)if(a===s_aSounds[s_aSoundsInfo[c].ingamename]._sounds[0]._id){s_oMain.tryToLoadSound(s_aSoundsInfo[c],!0);break}},onplayerror:function(a){for(var b=0;b<s_aSoundsInfo.length;b++)if(a===s_aSounds[s_aSoundsInfo[b].ingamename]._sounds[0]._id){s_aSounds[s_aSoundsInfo[b].ingamename].once("unlock",function(){s_aSounds[s_aSoundsInfo[b].ingamename].play()});break}}})},b?200:0)};this._loadImages=function(){s_oSpriteLibrary.init(this._onImagesLoaded,
this._onAllImagesLoaded,this);s_oSpriteLibrary.addSprite("bg_menu","./sprites/bg_menu.jpg");s_oSpriteLibrary.addSprite("but_exit","./sprites/but_exit.png");s_oSpriteLibrary.addSprite("bg_game","./sprites/bg_game.jpg");s_oSpriteLibrary.addSprite("audio_icon","./sprites/audio_icon.png");s_oSpriteLibrary.addSprite("msg_box","./sprites/msg_box.png");s_oSpriteLibrary.addSprite("hit_area_0","./sprites/hit_area_0.png");s_oSpriteLibrary.addSprite("hit_area_color","./sprites/hit_area_color.png");s_oSpriteLibrary.addSprite("hit_area_horizontal",
"./sprites/hit_area_horizontal.png");s_oSpriteLibrary.addSprite("hit_area_number","./sprites/hit_area_number.png");s_oSpriteLibrary.addSprite("hit_area_couple_horizontal","./sprites/hit_area_couple_horizontal.png");s_oSpriteLibrary.addSprite("hit_area_couple_vertical","./sprites/hit_area_couple_vertical.png");s_oSpriteLibrary.addSprite("hit_area_small","./sprites/hit_area_small.png");s_oSpriteLibrary.addSprite("hit_area_horizontal_half","./sprites/hit_area_horizontal_half.png");s_oSpriteLibrary.addSprite("chip_box",
"./sprites/chip_box.png");s_oSpriteLibrary.addSprite("but_bets","./sprites/but_bets.png");s_oSpriteLibrary.addSprite("but_bg","./sprites/but_bg.png");s_oSpriteLibrary.addSprite("but_clear_all","./sprites/but_clear_all.png");s_oSpriteLibrary.addSprite("but_clear_last","./sprites/but_clear_last.png");s_oSpriteLibrary.addSprite("but_rebet","./sprites/but_rebet.png");s_oSpriteLibrary.addSprite("but_play","./sprites/but_play.png");s_oSpriteLibrary.addSprite("logo_credits","./sprites/logo_credits.png");
s_oSpriteLibrary.addSprite("but_credits","./sprites/but_credits.png");s_oSpriteLibrary.addSprite("history_bg","./sprites/history_bg.png");s_oSpriteLibrary.addSprite("show_number_panel","./sprites/show_number_panel.png");s_oSpriteLibrary.addSprite("show_number_bg","./sprites/show_number_bg.png");s_oSpriteLibrary.addSprite("ball","./sprites/ball.png");s_oSpriteLibrary.addSprite("enlight_0","./sprites/enlight_0.png");s_oSpriteLibrary.addSprite("enlight_color","./sprites/enlight_color.png");s_oSpriteLibrary.addSprite("enlight_horizontal",
"./sprites/enlight_horizontal.png");s_oSpriteLibrary.addSprite("enlight_number","./sprites/enlight_number.png");s_oSpriteLibrary.addSprite("enlight_horizontal_half","./sprites/enlight_horizontal_half.png");s_oSpriteLibrary.addSprite("select_fiche","./sprites/select_fiche.png");s_oSpriteLibrary.addSprite("spin_but","./sprites/spin_but.png");s_oSpriteLibrary.addSprite("placeholder","./sprites/placeholder.png");s_oSpriteLibrary.addSprite("circle_red","./sprites/circle_red.png");s_oSpriteLibrary.addSprite("circle_green",
"./sprites/circle_green.png");s_oSpriteLibrary.addSprite("circle_black","./sprites/circle_black.png");s_oSpriteLibrary.addSprite("final_bet_bg","./sprites/final_bet_bg.png");s_oSpriteLibrary.addSprite("neighbor_bg","./sprites/neighbor_bg.jpg");s_oSpriteLibrary.addSprite("neighbor_enlight","./sprites/neighbor_enlight.png");s_oSpriteLibrary.addSprite("hitarea_neighbor","./sprites/hitarea_neighbor.png");s_oSpriteLibrary.addSprite("bg_wheel","./sprites/bg_wheel.jpg");s_oSpriteLibrary.addSprite("logo_game_0",
"./sprites/logo_game_0.png");s_oSpriteLibrary.addSprite("but_fullscreen","./sprites/but_fullscreen.png");s_oSpriteLibrary.addSprite("board_roulette","./sprites/board_roulette.jpg");for(var a=0;a<NUM_FICHES;a++)s_oSpriteLibrary.addSprite("fiche_"+a,"./sprites/fiche_"+a+".png");for(a=0;a<NUM_MASK_BALL_SPIN_FRAMES;a++)s_oSpriteLibrary.addSprite("wheel_handle_"+a,"./sprites/mask_ball_spin/wheel_handle_"+a+".png");for(a=0;a<NUM_MASK_BALL_SPIN_FRAMES;a++)s_oSpriteLibrary.addSprite("wheel_numbers_"+a,"./sprites/wheel_anim/wheel_numbers_"+
a+".png");e+=s_oSpriteLibrary.getNumSprites();s_oSpriteLibrary.loadSprites()};this._onImagesLoaded=function(){h++;n.refreshLoader(Math.floor(h/e*100))};this._onAllImagesLoaded=function(){};this.onImageLoadError=function(a){};this.preloaderReady=function(){this._loadImages();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||this._initSounds();g=!0};this._onRemovePreloader=function(){n.unload();this.gotoMenu()};this.gotoMenu=function(){new CMenu;a=STATE_MENU};this.gotoGame=function(){k=new CGame(d);a=STATE_GAME};
this.gotoHelp=function(){new CHelp;a=STATE_HELP};this.stopUpdate=function(){g=!1;createjs.Ticker.paused=!0;$("#block_game").css("display","block");!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||Howler.mute(!0)};this.startUpdate=function(){s_iPrevTime=(new Date).getTime();g=!0;createjs.Ticker.paused=!1;$("#block_game").css("display","none");(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)&&s_bAudioActive&&Howler.mute(!1)};this._update=function(b){if(!1!==g){var d=(new Date).getTime();s_iTimeElaps=d-s_iPrevTime;
s_iCntTime+=s_iTimeElaps;s_iCntFps++;s_iPrevTime=d;1E3<=s_iCntTime&&(s_iCurFps=s_iCntFps,s_iCntTime-=1E3,s_iCntFps=0);a===STATE_GAME&&k.update();s_oStage.update(b)}};s_oMain=this;var d=b;ENABLE_FULLSCREEN=b.fullscreen;ENABLE_CHECK_ORIENTATION=b.check_orientation;SHOW_CREDITS=d.show_credits;this.initContainer()}var s_bMobile,s_bAudioActive=!1,s_bFullscreen=!1,s_iCntTime=0,s_iTimeElaps=0,s_iPrevTime=0,s_iCntFps=0,s_iCurFps=0,s_oDrawLayer,s_oStage,s_oMain=null,s_oSpriteLibrary,s_aSounds,s_aSoundsInfo;
function CTextButton(b,g,h,e,a,n,k,d){var f,l,c,u,x,t,v,m,q,w;this._init=function(a,b,e,k,g,h,n){f=!1;l=1;c=[];u=[];m=new createjs.Container;m.x=a;m.y=b;m.regX=e.width/2;m.regY=e.height/2;s_bMobile||(m.cursor="pointer");d.addChild(m);w=createBitmap(e);m.addChild(w);q=new CTLText(m,parseInt(.06*e.width),parseInt(.06*e.height),e.width-2*parseInt(.06*e.width),e.height-2*parseInt(.06*e.height),n,"center",h,g,1,0,0,k,!0,!0,!0,!1);this._initListener()};this.unload=function(){m.off("mousedown",x);m.off("pressup",
t);d.removeChild(m)};this.setVisible=function(a){m.visible=a};this.setScale=function(a){l=m.scaleX=m.scaleY=a};this.enable=function(){f=!1};this.disable=function(){f=!0};this._initListener=function(){x=m.on("mousedown",this.buttonDown);t=m.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,d){c[a]=b;u[a]=d};this.addEventListenerWithParams=function(a,b,d,f){c[a]=b;u[a]=d;v=f};this.buttonRelease=function(){f||(playSound("click",1,!1),m.scaleX=l,m.scaleY=l,c[ON_MOUSE_UP]&&c[ON_MOUSE_UP].call(u[ON_MOUSE_UP],
v))};this.buttonDown=function(){f||(m.scaleX=.9*l,m.scaleY=.9*l,c[ON_MOUSE_DOWN]&&c[ON_MOUSE_DOWN].call(u[ON_MOUSE_DOWN]))};this.setPosition=function(a,b){m.x=a;m.y=b};this.tweenPosition=function(a,b,c,d,f,e,k){createjs.Tween.get(m).wait(d).to({x:a,y:b},c,f).call(function(){void 0!==e&&e.call(k)})};this.changeText=function(a){q.refreshText(a)};this.setX=function(a){m.x=a};this.setY=function(a){m.y=a};this.getButtonImage=function(){return m};this.getX=function(){return m.x};this.getY=function(){return m.y};
this.getSprite=function(){return m};this.getScale=function(){return m.scaleX};this._init(b,g,h,e,a,n,k)}
function CGfxButton(b,g,h,e){var a,n,k,d,f,l,c,u,x,t,v;this._init=function(b,c,p){a=!1;d=[];f=[];v=createBitmap(p);n=p.width;k=p.height;v.x=b;v.y=c;v.regX=p.width/2;v.regY=p.height/2;s_bMobile||(v.cursor="pointer");m.addChild(v);this._initListener()};this.unload=function(){v.off("mousedown",c);v.off("pressup",u);!1===s_bMobile&&(v.off("rollover",x),v.off("rollout",t));m.removeChild(v)};this.setVisible=function(a){v.visible=a};this.enable=function(){a=!1;v.filters=[];v.cache(0,0,n,k)};this.disable=
function(){a=!0;var b=(new createjs.ColorMatrix).adjustSaturation(-100).adjustBrightness(40);v.filters=[new createjs.ColorMatrixFilter(b)];v.cache(0,0,n,k)};this._initListener=function(){c=v.on("mousedown",this.buttonDown);u=v.on("pressup",this.buttonRelease);!1===s_bMobile&&(x=v.on("rollover",this.mouseOver),t=v.on("rollout",this.mouseOut))};this.addEventListener=function(a,b,c){d[a]=b;f[a]=c};this.addEventListenerWithParams=function(a,b,c,e){d[a]=b;f[a]=c;l=e};this.buttonRelease=function(){a||(playSound("click",
1,!1),v.scaleX=1,v.scaleY=1,d[ON_MOUSE_UP]&&d[ON_MOUSE_UP].call(f[ON_MOUSE_UP],l))};this.buttonDown=function(){a||(v.scaleX=.9,v.scaleY=.9,d[ON_MOUSE_DOWN]&&d[ON_MOUSE_DOWN].call(f[ON_MOUSE_DOWN],l))};this.mouseOver=function(){d[ON_MOUSE_OVER]&&d[ON_MOUSE_OVER].call(f[ON_MOUSE_OVER],l)};this.mouseOut=function(){d[ON_MOUSE_OUT]&&d[ON_MOUSE_OUT].call(f[ON_MOUSE_OUT],l)};this.setPosition=function(a,b){v.x=a;v.y=b};this.rotate=function(a){v.rotation=a};this.setX=function(a){v.x=a};this.setY=function(a){v.y=
a};this.getButtonImage=function(){return v};this.getX=function(){return v.x};this.getY=function(){return v.y};var m=e;this._init(b,g,h);return this}
function CFicheBut(b,g,h){var e,a,n,k,d,f,l=[],c,u,x;this._init=function(b,g,h){a=!1;u=new createjs.Container;s_oStage.addChild(u);e=!1;d=[];f=[];c=createBitmap(h);c.x=b;c.y=g;c.regX=h.width/2;c.regY=h.height/2;s_bMobile||(c.cursor="pointer");u.addChild(c);n=h.width;k=h.height;h=s_oSpriteLibrary.getSprite("select_fiche");x=createBitmap(h);x.x=b-2;x.y=g-2;x.regX=h.width/2;x.regY=h.height/2;u.addChild(x);x.visible=e;this._initListener()};this.unload=function(){c.off("mousedown",this.buttonDown);c.off("pressup",
this.buttonRelease);s_oStage.removeChild(u)};this.select=function(){e=!0;x.visible=e};this.deselect=function(){e=!1;x.visible=e};this.enable=function(){a=!1;c.filters=[];c.cache(0,0,n,k)};this.disable=function(){a=!0;var b=(new createjs.ColorMatrix).adjustSaturation(-90);c.filters=[new createjs.ColorMatrixFilter(b)];c.cache(0,0,n,k)};this.setVisible=function(a){c.visible=a};this._initListener=function(){c.on("mousedown",this.buttonDown);c.on("pressup",this.buttonRelease)};this.addEventListener=function(a,
b,c){d[a]=b;f[a]=c};this.addEventListenerWithParams=function(a,b,c,e){d[a]=b;f[a]=c;l=e};this.buttonRelease=function(){a||(playSound("click",1,!1),c.scaleX=1,c.scaleY=1,d[ON_MOUSE_UP]&&d[ON_MOUSE_UP].call(f[ON_MOUSE_UP],l),e=!e,x.visible=e)};this.buttonDown=function(){a||(c.scaleX=.9,c.scaleY=.9,d[ON_MOUSE_DOWN]&&d[ON_MOUSE_DOWN].call(f[ON_MOUSE_DOWN],l))};this.setPosition=function(a,b){c.x=a;c.y=b};this.setX=function(a){c.x=a};this.setY=function(a){c.y=a};this.getButtonImage=function(){return c};
this.getX=function(){return c.x};this.getY=function(){return c.y};this._init(b,g,h)}
function CBetTableButton(b,g,h,e,a,n){var k,d,f,l,c,u,x,t,v;this._init=function(a,b,c,p,e,g){k=g;x=p;d=[];f=[];v=e;l=createBitmap(c);l.x=a;l.y=b;l.regX=c.width/2;l.regY=c.height/2;s_bMobile||(l.cursor="pointer");this._initListener();v.addChild(l);t=[];t=x.split("_");1<t.length?t.splice(0,1):this._assignNumber();this._assignBetMultiplier()};this.unload=function(){l.off("mousedown",this.buttonDown);l.off("pressup",this.buttonRelease);l.off("rollover",this.mouseOver);l.off("rollout",this.mouseOut);v.removeChild(l)};
this.setVisible=function(a){l.visible=a};this._assignNumber=function(){t=s_oGameSettings.getNumbersForButton(x)};this._assignBetMultiplier=function(){switch(t.length){case 0:c=s_oGameSettings.getBetMultiplierForButton(x);u=s_oGameSettings.getBetWinForButton(x);break;default:c=t.length,u=Math.floor(36/t.length)}};this._initListener=function(){l.on("mousedown",this.buttonDown);l.on("pressup",this.buttonRelease);l.on("rollover",this.mouseOver);l.on("rollout",this.mouseOut)};this.addEventListener=function(a,
b,c){d[a]=b;f[a]=c};this.addEventListenerWithParams=function(a,b,c,p){d[a]=b;f[a]=c};this.buttonRelease=function(){playSound("click",1,!1);d[ON_MOUSE_UP]&&d[ON_MOUSE_UP].call(f[ON_MOUSE_UP],{numbers:t,bet_mult:c,bet_win:u,name:x,num_fiches:1},!1)};this.buttonDown=function(){d[ON_MOUSE_DOWN]&&d[ON_MOUSE_DOWN].call(f[ON_MOUSE_DOWN],{button:x,numbers:t,bet_mult:c,bet_win:u,num_fiches:1},!1)};this.mouseOver=function(){d[ON_MOUSE_OVER]&&(k?d[ON_MOUSE_OVER].call(f[ON_MOUSE_OVER],{numbers:t,enlight:x}):
d[ON_MOUSE_OVER].call(f[ON_MOUSE_OVER],{numbers:t}))};this.mouseOut=function(){d[ON_MOUSE_OUT]&&(k?d[ON_MOUSE_OUT].call(f[ON_MOUSE_OUT],{numbers:t,enlight:x}):d[ON_MOUSE_OUT].call(f[ON_MOUSE_OUT],{numbers:t}))};this.setPosition=function(a,b){l.x=a;l.y=b};this.setX=function(a){l.x=a};this.setY=function(a){l.y=a};this.rotate=function(a){l.rotation=a};this.getButtonImage=function(){return l};this.getX=function(){return l.x};this.getY=function(){return l.y};this._init(b,g,h,e,a,n)}
function CBetTextButton(b,g,h,e,a,n,k,d){var f,l,c,u,x,t,v,m,q,w,p,A,E;this._init=function(a,b,d,e,g,k,h,n){f=!1;q=[];w=[];p=new createjs.Container;p.x=a;p.y=b;p.regX=d.width/2;p.regY=d.height/2;s_bMobile||(p.cursor="pointer");s_oStage.addChild(p);E=createBitmap(d);p.addChild(E);l=d.width;c=d.height;A=new CTLText(p,10,10,d.width-20,d.height-20,h,"center",k,g,1,2,2,e,!0,!0,!0,!1);this._initListener();v=n;m=[];m=n.split("_");1<m.length?m.splice(0,1):this._assignNumber(n);u=s_oGameSettings.getBetMultiplierForButton(n);
x=s_oGameSettings.getBetWinForButton(n);t=s_oGameSettings.getNumFichesPerBet(n)};this._assignNumber=function(a){m=s_oGameSettings.getNumbersForButton(a)};this.unload=function(){p.off("mousedown");p.off("pressup");s_oStage.removeChild(p)};this.setVisible=function(a){p.visible=a};this.enable=function(){f=!1;E.filters=[];E.cache(0,0,l,c)};this.disable=function(){f=!0;var a=(new createjs.ColorMatrix).adjustSaturation(-100).adjustBrightness(40);E.filters=[new createjs.ColorMatrixFilter(a)];E.cache(0,0,
l,c)};this._initListener=function(){oParent=this;p.on("mousedown",this.buttonDown);p.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){q[a]=b;w[a]=c};this.buttonRelease=function(){f||(playSound("click",1,!1),p.scaleX=1,p.scaleY=1,q[ON_MOUSE_UP]&&q[ON_MOUSE_UP].call(w[ON_MOUSE_UP],{name:v,numbers:m,bet_mult:u,bet_win:x,num_fiches:t},!1))};this.buttonDown=function(){f||(p.scaleX=.9,p.scaleY=.9,q[ON_MOUSE_DOWN]&&q[ON_MOUSE_DOWN].call(w[ON_MOUSE_DOWN]))};this.setPosition=function(a,
b){p.x=a;p.y=b};this.changeText=function(a){A.refreshText(a)};this.setX=function(a){p.x=a};this.setY=function(a){p.y=a};this.getButtonImage=function(){return p};this.getX=function(){return p.x};this.getY=function(){return p.y};this._init(b,g,h,e,a,n,k,d);return this}
function CToggle(b,g,h,e,a){var n,k,d,f,l,c,u;this._init=function(a,b,f,e,g){u=void 0!==g?g:s_oStage;k=[];d=[];g=new createjs.SpriteSheet({images:[f],frames:{width:f.width/2,height:f.height,regX:f.width/2/2,regY:f.height/2},animations:{state_true:[0],state_false:[1]}});n=e;c=createSprite(g,"state_"+n,f.width/2/2,f.height/2,f.width/2,f.height);c.x=a;c.y=b;c.stop();s_bMobile||(c.cursor="pointer");u.addChild(c);this._initListener()};this.unload=function(){c.off("mousedown",f);c.off("pressup",l);u.removeChild(c)};
this._initListener=function(){f=c.on("mousedown",this.buttonDown);l=c.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,c){k[a]=b;d[a]=c};this.setCursorType=function(a){c.cursor=a};this.setActive=function(a){n=a;c.gotoAndStop("state_"+n)};this.buttonRelease=function(){c.scaleX=1;c.scaleY=1;playSound("click",1,!1);n=!n;c.gotoAndStop("state_"+n);k[ON_MOUSE_UP]&&k[ON_MOUSE_UP].call(d[ON_MOUSE_UP],n)};this.buttonDown=function(){c.scaleX=.9;c.scaleY=.9;k[ON_MOUSE_DOWN]&&k[ON_MOUSE_DOWN].call(d[ON_MOUSE_DOWN])};
this.setPosition=function(a,b){c.x=a;c.y=b};this._init(b,g,h,e,a)}
function CMenu(){var b,g,h,e,a,n,k,d,f,l=null,c=null,u,x,t,v,m;this._init=function(){u=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));s_oStage.addChild(u);var q=s_oSpriteLibrary.getSprite("but_play");h=CANVAS_WIDTH/2;e=CANVAS_HEIGHT-110;x=new CGfxButton(h,e,q,s_oStage);x.addEventListener(ON_MOUSE_UP,this._onButPlayRelease,this);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)q=s_oSpriteLibrary.getSprite("audio_icon"),k=CANVAS_WIDTH-q.width/4-10,d=q.height/2+10,v=new CToggle(k,d,q,s_bAudioActive,
s_oStage),v.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);var w=s_oSpriteLibrary.getSprite("but_fullscreen");SHOW_CREDITS?(q=s_oSpriteLibrary.getSprite("but_credits"),a=q.width/2+10,n=q.height/2+10,t=new CGfxButton(a,n,q,s_oStage),t.addEventListener(ON_MOUSE_UP,this._onCredits,this),b=a+w.width/2+10,g=w.height/2+10):(b=q.width/4+10,g=q.height/2+10);q=window.document;var p=q.documentElement;l=p.requestFullscreen||p.mozRequestFullScreen||p.webkitRequestFullScreen||p.msRequestFullscreen;c=q.exitFullscreen||
q.mozCancelFullScreen||q.webkitExitFullscreen||q.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(l=!1);l&&screenfull.enabled&&(f=new CToggle(b,g,w,s_bFullscreen,s_oStage),f.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));m=new createjs.Shape;m.graphics.beginFill("black").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);s_oStage.addChild(m);createjs.Tween.get(m).to({alpha:0},400).call(function(){m.visible=!1});this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};this.refreshButtonPos=function(c,h){!1!==DISABLE_SOUND_MOBILE&&
!1!==s_bMobile||v.setPosition(k-c,h+d);l&&screenfull.enabled&&f.setPosition(b+c,g+h);SHOW_CREDITS&&t.setPosition(a+c,h+n);x.setPosition(e,e-h)};this.unload=function(){x.unload();x=null;SHOW_CREDITS&&(t.unload(),t=null);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)v.unload(),v=null;l&&screenfull.enabled&&f.unload();s_oStage.removeChild(u);u=null;s_oStage.removeChild(m);s_oMenu=m=null};this._onButPlayRelease=function(){this.unload();s_oMain.gotoGame();$(s_oMain).trigger("start_session")};this._onAudioToggle=
function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this._onCredits=function(){new CCreditsPanel};this.resetFullscreenBut=function(){l&&screenfull.enabled&&f.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?c.call(window.document):l.call(window.document.documentElement);sizeHandler()};s_oMenu=this;this._init()}var s_oMenu=null;
function CGame(b){var g=!1,h,e,a,n,k,d,f,l,c,u,x,t,v,m,q,w,p,A,E,I,F,K;this._init=function(){s_oTweenController=new CTweenController;s_oGameSettings=new CRouletteSettings;v=createBitmap(s_oSpriteLibrary.getSprite("bg_game"));s_oStage.addChild(v);p=new CTableController;p.addEventListener(ON_SHOW_ENLIGHT,this._onShowEnlight);p.addEventListener(ON_HIDE_ENLIGHT,this._onHideEnlight);p.addEventListener(ON_SHOW_BET_ON_TABLE,this._onShowBetOnTable);d=0;e=-1;a=37;f=[];l=[];c=[];t=[];m=new CSeat;w=new CInterface;
I=new CFinalBetPanel(816,564);E=new CWheelAnim(0,0);F=new CNeighborsPanel(m.getCredit());K=new CGameOver;A=new CMsgBox;u=[];n=0;this._onSitDown();g=!0};this.unload=function(){stopSound("wheel_sound");w.unload();p.unload();A.unload();I.unload();F.unload();K.unload();E.unload();s_oStage.removeAllChildren()};this._setState=function(a){e=a;switch(a){case STATE_GAME_WAITING_FOR_BET:w.enableBetFiches(),w.setCurBet(0),w.hideBlock()}};this._resetTable=function(){n=0;a=37;f=[];l=[];c=[];null!==q&&(p.getContainer().removeChild(q),
q=null);m.reset();F.reset();.1>m.getCredit()?(e=-1,w.hideBlock(),K.show()):(w.enableRebet(),this._setState(STATE_GAME_WAITING_FOR_BET));d++;d===NUM_HAND_FOR_ADS&&(d=0,$(s_oMain).trigger("show_interlevel_ad"))};this._startRouletteAnim=function(){w.disableBetFiches();k=this._generateWinLoss();u.push(k);n=0};this._startBallSpinAnim=function(){var a=m.getNumbersBetted()[k];a=roundDecimal(a.win,2);E.startSpin(0,s_oGameSettings.getFrameForBallSpin(0,k),k,a)};this._generateWinLoss=function(){var b=m.getNumbersBetted(),
c=m.getNumberSelected(),p=b[c[0][0]].win;H+=m.getCurBet();H=parseFloat(H.toFixed(2));if(H<p){c=0;var d=Math.floor(100*Math.random())}else-1===WIN_OCCURRENCE?(c=37-a,d=Math.floor(38*Math.random())):(c=WIN_OCCURRENCE,d=Math.floor(100*Math.random()));if(h=d>=c?!1:!0){do d=Math.floor(Math.random()*b.length),p=b[d].win;while(0===p)}else{c=[];for(d=0;37>d;d++)c.push(d);do{if(0===c.length){d=Math.floor(Math.random()*b.length);break}d=Math.floor(Math.random()*c.length);p=b[d].win;c.splice(d,1)}while(p>m.getCurBet())}return k=
d};this._rouletteAnimEnded=function(){n=0;this._setState(STATE_GAME_SHOW_WINNER);stopSound("wheel_sound");var a=m.getNumbersBetted(),b=a[k],c=roundDecimal(b.win,2);x=[];for(var d=0;d<a.length;d++){var f=a[d];if(0<f.win)for(var e=0;e<f.mc.length;e++){x.push(f.mc[e]);var g=s_oGameSettings.getAttachOffset("oDealerWin");f.mc[e].setEndPoint(g.x,g.y)}}if(b.mc)for(a=0;a<b.mc.length;a++)g=s_oGameSettings.getAttachOffset("oReceiveWin"),b.mc[a].setEndPoint(g.x,g.y);w.refreshNumExtracted(u);q=createBitmap(s_oSpriteLibrary.getSprite("placeholder"));
0===k?(q.x=p.getEnlightX(k)+22,q.y=p.getEnlightY(k)+90):(q.x=p.getEnlightX(k)+8,q.y=p.getEnlightY(k)+16);q.regX=6;q.regY=20;p.getContainer().addChild(q);m.showWin(c);0<c&&(H-=c);H=parseFloat(H.toFixed(2));$(s_oMain).trigger("save_score",m.getCredit());w.refreshMoney(m.getCredit()-c,c)};this.showMsgBox=function(a){A.show(a)};this.onRecharge=function(){m.recharge(TOTAL_MONEY);w.setMoney(m.getCredit());this._setState(STATE_GAME_WAITING_FOR_BET);K.hide();$(s_oMain).trigger("recharge")};this.onSpin=function(){if(F.isVisible())F.onExit();
0!==m.getCurBet()&&(m.getCurBet()<MIN_BET?(A.show(TEXT_ERROR_MIN_BET),w.enableBetFiches(),w.enableSpin(!0)):w.isBlockVisible()||(w.showBlock(),F.hide(),I.hide(),w.enableSpin(!1),this._startRouletteAnim(),this._startBallSpinAnim(),$(s_oMain).trigger("bet_placed",m.getCurBet()),this._setState(STATE_GAME_SPINNING),playSound("wheel_sound",1,!1)))};this._onSitDown=function(){this._setState(STATE_GAME_WAITING_FOR_BET);m.setInfo(TOTAL_MONEY,p.getContainer());w.setMoney(TOTAL_MONEY);w.setCurBet(0)};this._onShowBetOnTable=
function(b,p){var d=b.button,e=b.numbers;a-=b.bet_mult;f.push(b.bet_mult);var g=b.bet_win,h=b.num_fiches;if(p)var k=b.value;else k=w.getCurFicheSelected(),0===l.length&&(t=[],w.disableRebet()),t.push({button:b.button,numbers:b.numbers,bet_mult:b.bet_mult,bet_win:b.bet_win,num_fiches:b.num_fiches,neighbors:!1,value:k});var n=s_oGameSettings.getFicheValues(k);l.push(g);c.push(h);var q=m.getCurBet();if(0>m.getCredit()-n*h)A.show(TEXT_ERROR_NO_MONEY_MSG),F.reset();else if(q+n*h>MAX_BET)A.show(TEXT_ERROR_MAX_BET_REACHED),
F.reset();else{switch(d){case "oBetVoisinsZero":m.addFicheOnTable(n,k,[0,2,3],12,"bet_0_2_3");m.addFicheOnTable(n,k,[0,2,3],12,"bet_0_2_3");m.addFicheOnTable(n,k,[4,7],18,"bet_4_7");m.addFicheOnTable(n,k,[12,15],18,"bet_12_15");m.addFicheOnTable(n,k,[19,22],18,"bet_19_22");m.addFicheOnTable(n,k,[25,26,28,29],9,"bet_25_26_28_29");m.addFicheOnTable(n,k,[25,26,28,29],9,"bet_25_26_28_29");m.addFicheOnTable(n,k,[32,35],18,"bet_32_35");break;case "oBetTier":m.createPileForTier(n,k,e,g,h);break;case "oBetOrphelins":m.addFicheOnTable(n,
k,[1],36,"bet_1");m.addFicheOnTable(n,k,[6,9],18,"bet_6_9");m.addFicheOnTable(n,k,[14,17],18,"bet_14_17");m.addFicheOnTable(n,k,[17,20],18,"bet_17_20");m.addFicheOnTable(n,k,[31,34],18,"bet_31_34");break;case "oBetFinalsBet":m.createPileForMultipleNumbers(n,k,e,g,h);break;default:m.addFicheOnTable(n,k,e,g,d)}w.setMoney(m.getCredit());w.setCurBet(m.getCurBet());w.enableSpin(!0);playSound("chip",1,!1)}};this._onShowBetOnTableFromNeighbors=function(b,p){var d=b.numbers;a-=b.bet_mult;f.push(b.bet_mult);
var e=b.bet_win,k=b.num_fiches;p||(0===l.length&&(t=[],w.disableRebet()),t.push({button:b.button,numbers:b.numbers,bet_mult:b.bet_mult,bet_win:b.bet_win,num_fiches:b.num_fiches,value:w.getCurFicheSelected(),num_clicked:b.num_clicked,neighbors:!0}));l.push(e);c.push(k);var g=s_oGameSettings.getFicheValues(b.value);g*k>m.getCredit()?(A.show(TEXT_ERROR_NO_MONEY_MSG),F.reset()):(m.createPileForMultipleNumbers(g,b.value,d,e,k),w.setMoney(m.getCredit()),w.setCurBet(m.getCurBet()),w.enableSpin(!0),playSound("chip",
1,!1))};this._onShowEnlight=function(a){for(var b=a.numbers,c=0;c<b.length;c++)p.enlight("oEnlight_"+b[c]);(a=a.enlight)&&p.enlight("oEnlight_"+a)};this._onHideEnlight=function(a){for(var b=a.numbers,c=0;c<b.length;c++)p.enlightOff("oEnlight_"+b[c]);(a=a.enlight)&&p.enlightOff("oEnlight_"+a)};this.onClearLastBet=function(){if(0<f.length){var b=f.pop();a+=b}0===f.length&&w.enableSpin(!1);m.clearLastBet(l.pop(),c.pop());w.setMoney(m.getCredit());w.setCurBet(m.getCurBet());F.clearLastBet();0<t.length&&
t.pop()};this.onClearAllBets=function(){m.clearAllBets();w.setMoney(m.getCredit());w.setCurBet(m.getCurBet());w.enableSpin(!1);F.reset();t=[];a=37};this.onRebet=function(){for(var a=0;a<t.length;a++)!0===t[a].neighbors?F.rebet(t[a].num_clicked):this._onShowBetOnTable(t[a],!0)};this.onFinalBetShown=function(){I.isVisible()?I.hide():I.show()};this.onOpenNeighbors=function(){I.hide();F.showPanel(w.getCurFicheSelected(),m.getCredit(),m.getCurBet())};this.onExit=function(){$(s_oMain).trigger("end_session");
$(s_oMain).trigger("save_score",m.getCredit());$(s_oMain).trigger("share_event",m.getCredit());this.unload();s_oMain.gotoMenu()};this._updateWaitingBet=function(){F.isVisible()||0===TIME_WAITING_BET||(n+=s_iTimeElaps,n>TIME_WAITING_BET&&(n=0,this.onSpin()))};this._updateSpinning=function(){};this._updateShowWinner=function(){n+=s_iTimeElaps;n>TIME_SHOW_WINNER&&(n=0,s_oGame._setState(STATE_DISTRIBUTE_FICHES))};this._updateDistributeFiches=function(){n+=s_iTimeElaps;if(n>TIME_FICHES_MOV)n=0,playSound("fiche_collect",
1,!1),this._resetTable();else for(var a=s_oTweenController.easeInOutCubic(n,0,1,TIME_FICHES_MOV),b=0;b<x.length;b++)x[b].updatePos(a)};this.update=function(){if(!1!==g){switch(e){case STATE_GAME_WAITING_FOR_BET:this._updateWaitingBet();break;case STATE_GAME_SPINNING:this._updateSpinning();break;case STATE_GAME_SHOW_WINNER:this._updateShowWinner();break;case STATE_DISTRIBUTE_FICHES:this._updateDistributeFiches()}E.isVisible()&&E.update()}};s_oGame=this;TOTAL_MONEY=b.money;MIN_BET=b.min_bet;MAX_BET=
b.max_bet;TIME_WAITING_BET=b.time_bet;TIME_SHOW_WINNER=b.time_winner;WIN_OCCURRENCE=b.win_occurrence;NUM_HAND_FOR_ADS=b.num_hand_before_ads;var H=b.casino_cash;this._init()}var s_oGame,s_oTweenController,s_oGameSettings;
function CInterface(){var b,g,h,e,a,n,k,d,f,l,c,u=null,x=null,t,v,m,q,w,p,A,E,I,F,K,H,O,N;this._init=function(){var B=s_oSpriteLibrary.getSprite("but_bg"),G=createBitmap(B);G.x=191;G.y=93;s_oStage.addChild(G);new CTLText(s_oStage,200,100,B.width-16,24,24,"center","#fff",FONT1,1,2,2,TEXT_MONEY,!0,!0,!1,!1);t=new CTLText(s_oStage,200,122,B.width-16,24,20,"center","#fff",FONT1,1,2,2,"0",!0,!0,!1,!1);G=createBitmap(s_oSpriteLibrary.getSprite("but_bg"));G.x=350;G.y=93;s_oStage.addChild(G);new CTLText(s_oStage,
358,100,B.width-16,24,24,"center","#fff",FONT1,1,2,2,TEXT_CUR_BET,!0,!0,!1,!1);v=new CTLText(s_oStage,358,122,B.width-16,24,20,"center","#fff",FONT1,1,2,2,"0",!0,!0,!1,!1);m=createBitmap(s_oSpriteLibrary.getSprite("but_bets"));m.x=515;m.y=100;s_oStage.addChild(m);new CTLText(s_oStage,520,98,B.width-16,56,24,"center","#fff",FONT1,1,2,2,TEXT_MIN_BET+": "+MIN_BET+" "+TEXT_MAX_BET+": "+MAX_BET,!0,!0,!0,!1);B=createBitmap(s_oSpriteLibrary.getSprite("logo_game_0"));B.x=740;B.y=98;s_oStage.addChild(B);q=
new CSpinBut(1107,641,s_oSpriteLibrary.getSprite("spin_but"),"  "+TEXT_SPIN,FONT1,"#fff",19,s_oStage);q.setVisible(!1);q.addEventListener(ON_MOUSE_UP,this._onSpin,this);K=new CBetTextButton(266,641,s_oSpriteLibrary.getSprite("but_bg"),TEXT_VOISINS_ZERO,FONT1,"#fff",16,"oBetVoisinsZero");K.addEventListener(ON_MOUSE_UP,this._onBetRelease,this);F=new CBetTextButton(424,641,s_oSpriteLibrary.getSprite("but_bg"),TEXT_TIER,FONT1,"#fff",16,"oBetTier");F.addEventListener(ON_MOUSE_UP,this._onBetRelease,this);
I=new CBetTextButton(582,641,s_oSpriteLibrary.getSprite("but_bg"),TEXT_ORPHELINS,FONT1,"#fff",16,"oBetOrphelins");I.addEventListener(ON_MOUSE_UP,this._onBetRelease,this);E=new CTextButton(740,641,s_oSpriteLibrary.getSprite("but_bg"),TEXT_NEIGHBORS,FONT1,"#fff",16,s_oStage);E.addEventListener(ON_MOUSE_UP,this._onNeighborsPanel,this);A=new CTextButton(898,641,s_oSpriteLibrary.getSprite("but_bg"),TEXT_FINALSBET,FONT1,"#fff",16,s_oStage);A.addEventListener(ON_MOUSE_UP,this._onFinalBetShow,this);H=new CGfxButton(1064,
586,s_oSpriteLibrary.getSprite("but_rebet"),s_oStage);H.disable();H.addEventListener(ON_MOUSE_UP,this._onRebet,this);w=new CGfxButton(1064,526,s_oSpriteLibrary.getSprite("but_clear_last"),s_oStage);w.addEventListener(ON_MOUSE_UP,this._onClearLastBet,this);p=new CGfxButton(1064,466,s_oSpriteLibrary.getSprite("but_clear_all"),s_oStage);p.addEventListener(ON_MOUSE_UP,this._onClearAllBet,this);this._initFichesBut();this.disableBetFiches();O=new CHistory(1095,158,s_oStage);k=0;d[k].select();B=(new createjs.Graphics).beginFill("rgba(0,0,0,0.01)").drawRect(0,
0,CANVAS_WIDTH,CANVAS_HEIGHT);N=new createjs.Shape(B);N.on("click",function(){});N.visible=!1;s_oStage.addChild(N);B=s_oSpriteLibrary.getSprite("but_exit");b=CANVAS_WIDTH-B.width/2-10;g=B.height/2+10;f=new CGfxButton(b,g,B,s_oStage);f.addEventListener(ON_MOUSE_UP,this._onExit,this);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)B=s_oSpriteLibrary.getSprite("audio_icon"),a=b-B.width/2-10,n=B.height/2+10,l=new CToggle(a,n,B,s_bAudioActive,s_oStage),l.addEventListener(ON_MOUSE_UP,this._onAudioToggle,this);
B=window.document;G=B.documentElement;u=G.requestFullscreen||G.mozRequestFullScreen||G.webkitRequestFullScreen||G.msRequestFullscreen;x=B.exitFullscreen||B.mozCancelFullScreen||B.webkitExitFullscreen||B.msExitFullscreen;!1===ENABLE_FULLSCREEN&&(u=!1);u&&screenfull.enabled&&(B=s_oSpriteLibrary.getSprite("but_fullscreen"),h=B.width/4+10,e=B.height/2+10,c=new CToggle(h,e,B,s_bFullscreen,s_oStage),c.addEventListener(ON_MOUSE_UP,this._onFullscreenRelease,this));this.refreshButtonPos(s_iOffsetX,s_iOffsetY)};
this.unload=function(){f.unload();!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||l.unload();u&&screenfull.enabled&&c.unload();q.unload();w.unload();p.unload();A.unload();E.unload();I.unload();F.unload();K.unload();H.unload();s_oInterface=null};this.refreshButtonPos=function(p,d){!1!==DISABLE_SOUND_MOBILE&&!1!==s_bMobile||l.setPosition(a-p,n+d);u&&screenfull.enabled&&c.setPosition(h+p,e+d);f.setPosition(b-p,g+d)};this.hideBlock=function(){N.visible=!1};this.showBlock=function(){N.visible=!0};this.enableBetFiches=
function(){for(var a=0;a<NUM_FICHE_VALUES;a++)d[a].enable();w.enable();p.enable();A.enable();E.enable();I.enable();F.enable();K.enable()};this.disableBetFiches=function(){for(var a=0;a<NUM_FICHE_VALUES;a++)d[a].disable();w.disable();p.disable();A.disable();E.disable();I.disable();F.disable();K.disable();H.disable()};this.enableRebet=function(){H.enable()};this.disableRebet=function(){H.disable()};this.deselectAllFiches=function(){for(var a=0;a<NUM_FICHES;a++)d[a].deselect()};this.enableSpin=function(a){q.setVisible(a)};
this._initFichesBut=function(){var a=createBitmap(s_oSpriteLibrary.getSprite("chip_box"));a.x=102;a.y=100;s_oStage.addChild(a);a=150;d=[];for(var b=0;b<NUM_FICHES;b++){var c=s_oSpriteLibrary.getSprite("fiche_"+b);d[b]=new CFicheBut(142,a,c);d[b].addEventListenerWithParams(ON_MOUSE_UP,this._onFicheSelected,this,[b]);a+=c.height+25}};this.refreshTime=function(a){formatTime(a)};this.setMoney=function(a){t.refreshText(a.toFixed(2)+TEXT_CURRENCY)};this.setCurBet=function(a){v.refreshText(a.toFixed(2)+
TEXT_CURRENCY)};this.refreshMoney=function(a,b){new CRollingTextController(t.getText(),null,a,parseFloat(b),1E3,EASE_LINEAR,TEXT_CURRENCY)};this.refreshNumExtracted=function(a){var b=a.length-1,c=-1;a.length>ROW_HISTORY-1&&(c=b-ROW_HISTORY);for(var p=0;b>c;b--){switch(s_oGameSettings.getColorNumber(a[b])){case COLOR_BLACK:O.showBlack(p,a[b]);break;case COLOR_RED:O.showRed(p,a[b]);break;case COLOR_ZERO:O.showGreen(p,a[b])}p++}};this.gameOver=function(){};this._onBetRelease=function(a){var b=a.numbers,
c=a.bet_mult,p=a.bet_win;null!==b&&s_oGame._onShowBetOnTable({button:a.name,numbers:b,bet_mult:c,bet_win:p,num_fiches:a.num_fiches},!1)};this._onFicheSelected=function(a){playSound("fiche_collect",1,!1);this.deselectAllFiches();a=a[0];for(var b=0;b<NUM_FICHE_VALUES;b++)b===a&&(k=b)};this._onSpin=function(){this.disableBetFiches();this.enableSpin(!1);s_oGame.onSpin()};this._onClearLastBet=function(){s_oGame.onClearLastBet()};this._onClearAllBet=function(){s_oGame.onClearAllBets()};this._onFinalBetShow=
function(){s_oGame.onFinalBetShown()};this._onNeighborsPanel=function(){s_oGame.onOpenNeighbors()};this._onRebet=function(){H.disable();s_oGame.onRebet()};this._onExit=function(){s_oGame.onExit()};this._onAudioToggle=function(){Howler.mute(s_bAudioActive);s_bAudioActive=!s_bAudioActive};this.resetFullscreenBut=function(){u&&screenfull.enabled&&c.setActive(s_bFullscreen)};this._onFullscreenRelease=function(){s_bFullscreen?x.call(window.document):u.call(window.document.documentElement);sizeHandler()};
this.getCurFicheSelected=function(){return k};this.isBlockVisible=function(){return N.visible};s_oInterface=this;this._init();return this}var s_oInterface=null;
function CMsgBox(){var b,g,h;this._init=function(){h=new createjs.Container;h.alpha=0;h.visible=!1;s_oStage.addChild(h);b=createBitmap(s_oSpriteLibrary.getSprite("msg_box"));b.on("click",function(){});h.addChild(b);g=new CTLText(h,CANVAS_WIDTH/2-250,230,500,280,40,"center","#fff",FONT1,1,2,2,"",!0,!0,!0,!1)};this.unload=function(){b.off("click",function(){})};this.show=function(b){g.refreshText(b);h.visible=!0;var a=this;createjs.Tween.get(h).to({alpha:1},500);setTimeout(function(){a._onExit()},2E3)};
this._onExit=function(){h.visible&&(h.off("mousedown"),h.visible=!1)};this._init();return this}
function CTweenController(){this.tweenValue=function(b,g,h){return b+h*(g-b)};this.easeLinear=function(b,g,h,e){return h*b/e+g};this.easeInCubic=function(b,g,h,e){e=(b/=e)*b*b;return g+h*e};this.easeBackInQuart=function(b,g,h,e){e=(b/=e)*b;return g+h*(2*e*e+2*e*b+-3*e)};this.easeInBack=function(b,g,h,e){return h*(b/=e)*b*(2.70158*b-1.70158)+g};this.easeOutCubic=function(b,g,h,e){return h*((b=b/e-1)*b*b+1)+g};this.easeInOutCubic=function(b,g,h,e){return 1>(b/=e/2)?h/2*b*b*b+g:h/2*((b-=2)*b*b+2)+g};
this.tweenVectors=function(b,g,h,e){e.x=b.x+h*(g.x-b.x);e.y=b.y+h*(g.y-b.y);return e}}
function CSeat(){var b,g,h,e,a,n;this._init=function(){this.reset()};this.reset=function(){h=[];e=[];a=[];this.resetNumberWins();n&&n.reset();b=0};this.setInfo=function(a,d){g=a;b=0;n=new CFichesController(d)};this.resetNumberWins=function(){for(var b=0;b<NUMBERS_TO_BET;b++)h[b]={win:0,mc:null};a=[]};this.setFicheBetted=function(k,d,f,l,c){for(var n=[],x=[],t=0;t<d.length;t++){var v=(parseFloat(h[d[t]].win)+f*k*c).toFixed(1);h[d[t]]={win:v,mc:l};n.push(f*k*c);x.push(l)}a.push({win:n,mc:l});e.push(d);
k=parseFloat((k*c).toFixed(2));b+=k;b=parseFloat(b.toFixed(2));g-=k;g=roundDecimal(g,1)};this.createPileForVoisinZero=function(a,b,f,e,c){var d=[];n.createPileForVoisinZero(b,d);this.setFicheBetted(a,f,e,d,c)};this.createPileForTier=function(a,b,f,e,c){var d=[];n.createPileForTier(b,d);this.setFicheBetted(a,f,e,d,c)};this.createPileForOrphelins=function(k,d,f,l,c){l=[];n.createPileForOrphelins(d,l);d=[];var u=(parseFloat(h[f[0]].win)+36*k).toFixed(1);h[f[0]]={win:u,mc:l};d.push(36*k);u=(parseFloat(h[f[1]].win)+
18*k).toFixed(1);h[f[1]]={win:u,mc:l};d.push(18*k);u=(parseFloat(h[f[2]].win)+18*k).toFixed(1);h[f[2]]={win:u,mc:l};d.push(18*k);u=(parseFloat(h[f[3]].win)+18*k).toFixed(1);h[f[3]]={win:u,mc:l};d.push(18*k);u=(parseFloat(h[f[4]].win)+36*k).toFixed(1);h[f[4]]={win:u,mc:l};d.push(36*k);u=(parseFloat(h[f[5]].win)+18*k).toFixed(1);h[f[5]]={win:u,mc:l};d.push(18*k);u=(parseFloat(h[f[6]].win)+18*k).toFixed(1);h[f[6]]={win:u,mc:l};d.push(18*k);u=(parseFloat(h[f[7]].win)+18*k).toFixed(1);h[f[7]]={win:u,mc:l};
d.push(18*k);e.push(f);k=parseFloat((k*c).toFixed(2));b+=k;g-=k;g=roundDecimal(g,1);a.push({win:d,mc:l})};this.createPileForMultipleNumbers=function(a,b,f,e,c){var d=[];n.createPileForMultipleNumbers(b,f,d);this.setFicheBetted(a,f,e,d,c)};this.addFicheOnTable=function(a,b,f,e,c){var d=[];n.setFicheOnTable(b,c,d);this.setFicheBetted(a,f,e,d,1)};this.clearLastBet=function(){if(0!==e.length){var k=n.clearLastBet();g+=k;g=roundDecimal(g,1);b-=k;k=e.pop();for(var d=a.pop().win,f=0;f<k.length;f++)h[k[f]]=
0<a.length?{win:h[k[f]].win-d[f],mc:a[a.length-1].mc}:{win:h[k[f]].win-d[f],mc:null}}};this.clearAllBets=function(){this.resetNumberWins();n.clearAllBets();g+=b;g=roundDecimal(g,1);b=0};this.showWin=function(a){g+=a;g=roundDecimal(g,1)};this.recharge=function(a){g=a};this.getCurBet=function(){return b};this.getCredit=function(){return g};this.getNumbersBetted=function(){return h};this.getNumberSelected=function(){return e};this._init()}
function CTableController(){var b,g,h,e;this._init=function(){g=new createjs.Container;g.x=184;g.y=150;s_oStage.addChild(g);var a=createBitmap(s_oSpriteLibrary.getSprite("board_roulette"));g.addChild(a);this._initEnlights();a=new CBetTableButton(221,289,s_oSpriteLibrary.getSprite("hit_area_horizontal"),"first12",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,
this));a=new CBetTableButton(470,289,s_oSpriteLibrary.getSprite("hit_area_horizontal"),"second12",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(717,289,s_oSpriteLibrary.getSprite("hit_area_horizontal"),"third12",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,
this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(54,121,s_oSpriteLibrary.getSprite("hit_area_0"),"bet_0",g,!1);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));for(var b=s_oSpriteLibrary.getSprite("hit_area_number"),k=128,d=194,f=1;37>f;f++)a=new CBetTableButton(k,d,b,"bet_"+f,g,!1),a.addEventListener(ON_MOUSE_DOWN,
this._onBetPress,this),!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this)),0===f%3?(k+=WIDTH_CELL_NUMBER+3,d=194):d-=HEIGHT_CELL_NUMBER+3;a=new CBetTableButton(97,195,s_oSpriteLibrary.getSprite("hit_area_couple_vertical"),"bet_0_1",g,!1);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,
this));a=new CBetTableButton(97,120,s_oSpriteLibrary.getSprite("hit_area_couple_vertical"),"bet_0_2",g,!1);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(97,45,s_oSpriteLibrary.getSprite("hit_area_couple_vertical"),"bet_0_3",g,!1);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,
this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));k=159;d=194;for(var l=1;34>l;l++)a=new CBetTableButton(k,d,s_oSpriteLibrary.getSprite("hit_area_couple_vertical"),"bet_"+l+"_"+(l+3),g,!1),a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this),!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this)),0===l%3?(k+=WIDTH_CELL_NUMBER+3,d=194):d-=HEIGHT_CELL_NUMBER+3;k=128;d=157;for(l=
f=1;25>l;l++)a=new CBetTableButton(k,d,s_oSpriteLibrary.getSprite("hit_area_couple_horizontal"),"bet_"+f+"_"+(f+1),g,!1),a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this),!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this)),0===l%2?(k+=WIDTH_CELL_NUMBER+3,d=157,f+=2):(d-=HEIGHT_CELL_NUMBER+3,f++);a=new CBetTableButton(96,158,s_oSpriteLibrary.getSprite("hit_area_small"),"bet_0_1_2",g,!1);a.addEventListener(ON_MOUSE_DOWN,
this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(96,84,s_oSpriteLibrary.getSprite("hit_area_small"),"bet_0_2_3",g,!1);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));k=128;d=232;f=1;b=s_oSpriteLibrary.getSprite("hit_area_couple_horizontal");
for(l=1;13>l;l++)a=new CBetTableButton(k,d,b,"bet_"+f+"_"+(f+1)+"_"+(f+2),g,!1),a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this),!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this)),k+=WIDTH_CELL_NUMBER+3,f+=3;a=new CBetTableButton(96,232,s_oSpriteLibrary.getSprite("hit_area_small"),"bet_0_1_2_3",g,!1);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,
this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));d=k=158;for(l=f=1;23>l;l++)a=new CBetTableButton(k,d,s_oSpriteLibrary.getSprite("hit_area_small"),"bet_"+f+"_"+(f+1)+"_"+(f+3)+"_"+(f+4),g,!1),a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this),!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this)),0===l%2?(k+=WIDTH_CELL_NUMBER+3,d=157,f+=2):(d-=HEIGHT_CELL_NUMBER+3,f++);k=
158;d=232;f=1;b=s_oSpriteLibrary.getSprite("hit_area_small");for(l=1;12>l;l++)a=new CBetTableButton(k,d,b,"bet_"+f+"_"+(f+1)+"_"+(f+2)+"_"+(f+3)+"_"+(f+4)+"_"+(f+5),g,!1),a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this),!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this)),f+=3,k+=WIDTH_CELL_NUMBER+3;a=new CBetTableButton(872,194,s_oSpriteLibrary.getSprite("hit_area_number"),"col1",g,!0);a.addEventListener(ON_MOUSE_DOWN,
this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(872,120,s_oSpriteLibrary.getSprite("hit_area_number"),"col2",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(872,46,s_oSpriteLibrary.getSprite("hit_area_number"),
"col3",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(159,400,s_oSpriteLibrary.getSprite("hit_area_horizontal_half"),"first18",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));
a=new CBetTableButton(281,400,s_oSpriteLibrary.getSprite("hit_area_horizontal_half"),"even",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(408,400,s_oSpriteLibrary.getSprite("hit_area_color"),"black",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,
this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(533,400,s_oSpriteLibrary.getSprite("hit_area_color"),"red",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(656,400,s_oSpriteLibrary.getSprite("hit_area_horizontal_half"),"odd",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===
s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));a=new CBetTableButton(778,400,s_oSpriteLibrary.getSprite("hit_area_horizontal_half"),"second18",g,!0);a.addEventListener(ON_MOUSE_DOWN,this._onBetPress,this);!1===s_bMobile&&(a.addEventListener(ON_MOUSE_OVER,this._onBetNumberOver,this),a.addEventListener(ON_MOUSE_OUT,this._onBetNumberOut,this));h=[];e=[]};this._initEnlights=function(){b=[];var a=new CEnlight(11,10,s_oSpriteLibrary.getSprite("enlight_0"),
g);b.oEnlight_0=a;for(var e=98,h=159,d=s_oSpriteLibrary.getSprite("enlight_number"),f=0;36>f;f++)a=new CEnlight(e,h,d,g),b["oEnlight_"+(f+1)]=a,0===(f+1)%3?(e+=d.width+3,h=159):h-=d.height+3;a=new CEnlight(842,159,s_oSpriteLibrary.getSprite("enlight_number"),g);b.oEnlight_col1=a;a=new CEnlight(842,85,s_oSpriteLibrary.getSprite("enlight_number"),g);b.oEnlight_col2=a;a=new CEnlight(842,11,s_oSpriteLibrary.getSprite("enlight_number"),g);b.oEnlight_col3=a;a=new CEnlight(98,234,s_oSpriteLibrary.getSprite("enlight_horizontal"),
g);b.oEnlight_first12=a;a=new CEnlight(347,234,s_oSpriteLibrary.getSprite("enlight_horizontal"),g);b.oEnlight_second12=a;a=new CEnlight(595,234,s_oSpriteLibrary.getSprite("enlight_horizontal"),g);b.oEnlight_third12=a;a=new CEnlight(98,345,s_oSpriteLibrary.getSprite("enlight_horizontal_half"),g);b.oEnlight_first18=a;a=new CEnlight(220,345,s_oSpriteLibrary.getSprite("enlight_horizontal_half"),g);b.oEnlight_even=a;a=new CEnlight(347,348,s_oSpriteLibrary.getSprite("enlight_color"),g);b.oEnlight_black=
a;a=new CEnlight(470,348,s_oSpriteLibrary.getSprite("enlight_color"),g);b.oEnlight_red=a;a=new CEnlight(595,345,s_oSpriteLibrary.getSprite("enlight_horizontal_half"),g);b.oEnlight_odd=a;a=new CEnlight(717,345,s_oSpriteLibrary.getSprite("enlight_horizontal_half"),g);b.oEnlight_second18=a};this.unload=function(){for(var a=0;a<g.getNumChildren();a++){var b=g.getChildAt(a);b instanceof CBetTableButton&&b.unload()}};this.addEventListener=function(a,b,g){h[a]=b;e[a]=g};this._onBetPress=function(a){null!==
a.numbers&&h[ON_SHOW_BET_ON_TABLE]&&h[ON_SHOW_BET_ON_TABLE].call(e[ON_SHOW_BET_ON_TABLE],a,!1)};this._onBetNumberOver=function(a){null!==a.numbers&&h[ON_SHOW_ENLIGHT]&&h[ON_SHOW_ENLIGHT].call(e[ON_SHOW_ENLIGHT],a)};this._onBetNumberOut=function(a){null!==a.numbers&&h[ON_HIDE_ENLIGHT]&&h[ON_HIDE_ENLIGHT].call(e[ON_HIDE_ENLIGHT],a)};this.enlight=function(a){b[a].show()};this.enlightOff=function(a){b[a].hide()};this.getEnlightX=function(a){return b["oEnlight_"+a].getX()};this.getEnlightY=function(a){return b["oEnlight_"+
a].getY()};this.getContainer=function(){return g};this.getX=function(){return g.x};this.getY=function(){return g.x};this._init()}function CEnlight(b,g,h,e){var a;this._init=function(b,e,d,f){a=createBitmap(d);a.x=b;a.y=e;a.visible=!1;f.addChild(a)};this.show=function(){a.visible=!0};this.hide=function(){a.visible=!1};this.rotate=function(b){a.rotation=b};this.getX=function(){return a.x};this.getY=function(){return a.y};this._init(b,g,h,e)}
function CFiche(b,g,h,e,a){var n,k,d,f,l;this._init=function(a,b,d,e,g){l=e;e=s_oSpriteLibrary.getSprite("fiche_"+d);f=createBitmap(e);f.x=a;f.y=b;f.regX=e.width/2;f.regY=e.height/2;g?(f.scaleX=g,f.scaleY=g):(f.scaleX=.8,f.scaleY=.8);n=d;l.addChild(f)};this.setEndPoint=function(a,b){k=new createjs.Point(f.x,f.y);d=new createjs.Point(a,b)};this.updatePos=function(a){var b=new createjs.Point;b=s_oTweenController.tweenVectors(k,d,a,b);f.x=b.x;f.y=b.y};this.getSprite=function(){return f};this.getValue=
function(){return n};this._init(b,g,h,e,a)}
function CHistoryRow(b,g,h){var e,a,n,k,d,f,l;this._init=function(b,g){l=new createjs.Container;l.x=b;l.y=g;h.addChild(l);e=createBitmap(s_oSpriteLibrary.getSprite("circle_red"));e.visible=!1;l.addChild(e);a=createBitmap(s_oSpriteLibrary.getSprite("circle_green"));a.visible=!1;a.x=24;l.addChild(a);n=createBitmap(s_oSpriteLibrary.getSprite("circle_black"));n.visible=!1;n.x=48;l.addChild(n);k=new createjs.Text("a","12px "+FONT1,"#fff");k.x=e.x+10;k.y=e.y+4;k.visible=!1;k.textAlign="center";l.addChild(k);
d=new createjs.Text("a","12px "+FONT1,"#fff");d.x=a.x+10;d.y=a.y+4;d.visible=!1;d.textAlign="center";l.addChild(d);f=new createjs.Text("a","12px "+FONT1,"#fff");f.x=n.x+10;f.y=n.y+4;f.visible=!1;f.textAlign="center";l.addChild(f)};this.showBlack=function(b){f.text=b;e.visible=!1;k.visible=!1;a.visible=!1;d.visible=!1;n.visible=!0;f.visible=!0};this.showRed=function(b){k.text=b;e.visible=!0;k.visible=!0;a.visible=!1;d.visible=!1;n.visible=!1;f.visible=!1};this.showGreen=function(b){d.text=b;e.visible=
!1;k.visible=!1;a.visible=!0;d.visible=!0;n.visible=!1;f.visible=!1};this._init(b,g)}
function CWheelAnim(b,g){var h,e,a,n,k,d,f,l,c,u,x,t,v,m,q,w,p,A;this._init=function(a,b){k=n=0;e=!1;A=new createjs.Container;A.visible=!1;A.x=a;A.y=b;p=A.on("click",function(){});s_oStage.addChild(A);var c=new createjs.Shape;c.graphics.beginFill("rgba(0,0,0,0.7)").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);A.addChild(c);c=createBitmap(s_oSpriteLibrary.getSprite("bg_wheel"));c.x=240;c.y=159;A.addChild(c);f=[];for(var d=0;d<NUM_MASK_BALL_SPIN_FRAMES;d++)c=createBitmap(s_oSpriteLibrary.getSprite("wheel_numbers_"+
d)),c.x=418,c.y=219,c.visible=!1,A.addChild(c),f.push(c);this._initBall();l=[];for(d=0;d<NUM_MASK_BALL_SPIN_FRAMES;d++)c=createBitmap(s_oSpriteLibrary.getSprite("wheel_handle_"+d)),c.x=519,c.y=186,c.visible=!1,A.addChild(c),l.push(c);x=f[0];x.visible=!0;t=l[0];t.visible=!0;q=new createjs.Container;q.visible=!1;q.x=CANVAS_WIDTH/2;q.y=CANVAS_HEIGHT/2;A.addChild(q);c=s_oSpriteLibrary.getSprite("show_number_panel");d=createBitmap(c);q.addChild(d);d={images:[s_oSpriteLibrary.getSprite("show_number_bg")],
frames:{width:117,height:117,regX:58,regY:58},animations:{black:[0],red:[1],green:[2]}};d=new createjs.SpriteSheet(d);w=createSprite(d,"black",58,58,117,117);w.x=c.width/2;w.y=c.height/2;q.addChild(w);v=new createjs.Text("36","80px "+FONT2,"#fff");v.textAlign="center";v.textBaseline="middle";v.x=c.width/2;v.y=c.height/2+7;q.addChild(v);d=s_oSpriteLibrary.getSprite("but_bg");var g=createBitmap(d);g.regX=d.width/2;g.x=c.width/2;g.y=c.height-12;q.addChild(g);m=new createjs.Text("","22px "+FONT1,"#fff");
m.textAlign="center";m.textBaseline="middle";m.x=c.width/2;m.y=c.height+20;q.addChild(m);q.regX=c.width/2;q.regY=c.height/2};this.unload=function(){A.off("click",p)};this._initBall=function(){c=[];c.push({x:892.9,y:358.95});c.push({x:889.4,y:338.95});c.push({x:880.9,y:320.45});c.push({x:870.9,y:303.45});c.push({x:857.65,y:287.2});c.push({x:842.4,y:272.2});c.push({x:825.9,y:257.45});c.push({x:808.15,y:245.7});c.push({x:788.15,y:234.45});c.push({x:767.9,y:224.45});c.push({x:746.9,y:217.2});c.push({x:724.4,
y:210.7});c.push({x:702.15,y:205.2});c.push({x:680.15,y:201.7});c.push({x:657.15,y:199.45});c.push({x:634.15,y:198.95});c.push({x:609.15,y:199.95});c.push({x:586.4,y:202.2});c.push({x:564.15,y:206.2});c.push({x:541.65,y:211.2});c.push({x:519.15,y:218.2});c.push({x:498.9,y:227.45});c.push({x:478.9,y:236.7});c.push({x:461.15,y:248.95});c.push({x:444.15,y:261.45});c.push({x:429.15,y:275.7});c.push({x:416.65,y:291.45});c.push({x:406.65,y:308.95});c.push({x:399.15,y:326.7});c.push({x:394.4,y:345.7});c.push({x:394.4,
y:365.7});c.push({x:396.65,y:385.7});c.push({x:402.4,y:405.2});c.push({x:411.65,y:424.95});c.push({x:425.9,y:444.2});c.push({x:444.15,y:462.2});c.push({x:465.9,y:477.95});c.push({x:491.15,y:492.45});c.push({x:519.15,y:504.7});c.push({x:549.9,y:512.95});c.push({x:582.4,y:518.7});c.push({x:615.4,y:520.45});c.push({x:648.4,y:518.45});c.push({x:681.4,y:513.45});c.push({x:711.9,y:505.2});c.push({x:739.65,y:493.45});c.push({x:764.65,y:478.7});c.push({x:786.15,y:461.95});c.push({x:802.9,y:444.45});c.push({x:816.15,
y:424.7});c.push({x:825.15,y:404.7});c.push({x:829.9,y:384.7});c.push({x:829.9,y:364.7});c.push({x:825.9,y:345.95});c.push({x:818.9,y:327.2});c.push({x:808.15,y:310.2});c.push({x:795.15,y:293.95});c.push({x:779.65,y:279.45});c.push({x:761.65,y:267.2});c.push({x:742.4,y:256.45});c.push({x:721.15,y:247.95});c.push({x:698.65,y:240.45});c.push({x:673.65,y:236.95});c.push({x:650.65,y:234.45});c.push({x:625.65,y:233.95});c.push({x:603.15,y:235.45});c.push({x:579.9,y:238.7});c.push({x:556.9,y:246.2});c.push({x:534.4,
y:254.2});c.push({x:514.4,y:265.7});c.push({x:497.65,y:278.2});c.push({x:482.15,y:292.45});c.push({x:468.9,y:307.7});c.push({x:460.65,y:326.2});c.push({x:455.65,y:344.7});c.push({x:454.4,y:364.7});c.push({x:458.15,y:384.7});c.push({x:466.9,y:403.7});c.push({x:480.15,y:421.95});c.push({x:498.15,y:438.2});c.push({x:520.65,y:453.2});c.push({x:546.65,y:463.7});c.push({x:575.4,y:471.45});c.push({x:605.4,y:475.2});c.push({x:635.4,y:474.95});c.push({x:664.4,y:469.95});c.push({x:690.9,y:460.7});c.push({x:714.15,
y:447.95});c.push({x:732.65,y:431.2});c.push({x:743.4,y:418.7});c.push({x:749.4,y:411.2});c.push({x:752.15,y:397.95});c.push({x:757.65,y:379.45});c.push({x:757.65,y:379.45});c.push({x:755.65,y:375.7});c.push({x:756.15,y:366.2});c.push({x:756.15,y:356.2});c.push({x:753.65,y:344.95});c.push({x:751.4,y:346.45});c.push({x:749.9,y:346.45});c.push({x:751.65,y:351.7});c.push({x:754.15,y:356.7});c.push({x:754.9,y:362.45});c.push({x:755.9,y:367.45});c.push({x:756.4,y:374.2});c.push({x:756.4,y:380.2});c.push({x:755.65,
y:386.7});c.push({x:754.4,y:392.45});c.push({x:752.65,y:399.2});c.push({x:750.15,y:405.45});c.push({x:747.65,y:411.7});c.push({x:744.4,y:416.95});c.push({x:740.65,y:424.45});c.push({x:736.15,y:429.7});c.push({x:731.15,y:434.95});c.push({x:725.65,y:440.95});c.push({x:720.15,y:446.2});c.push({x:713.65,y:451.2});c.push({x:705.9,y:455.45});c.push({x:698.65,y:460.2});c.push({x:691.15,y:462.95});c.push({x:682.15,y:466.7});c.push({x:673.65,y:469.2});c.push({x:664.65,y:471.45});c.push({x:655.15,y:473.45});
c.push({x:646.15,y:475.2});c.push({x:634.9,y:476.45});c.push({x:624.9,y:476.45});c.push({x:614.9,y:476.45});c.push({x:604.9,y:475.7});c.push({x:595.65,y:474.2});c.push({x:586.4,y:472.45});c.push({x:577.15,y:470.45});c.push({x:568.65,y:466.95});c.push({x:561.15,y:464.95});c.push({x:553.15,y:460.95});c.push({x:545.15,y:457.95});c.push({x:539.9,y:452.95});c.push({x:531.4,y:447.95});c.push({x:525.9,y:443.45});c.push({x:518.4,y:439.45});c.push({x:513.4,y:433.7});c.push({x:509.15,y:426.95});c.push({x:504.15,
y:420.45});c.push({x:500.65,y:415.2});c.push({x:497.4,y:409.7});c.push({x:495.15,y:403.45});c.push({x:494.65,y:398.45});c.push({x:493.4,y:391.2});c.push({x:492.4,y:385.7});c.push({x:491.9,y:378.7});c.push({x:492.4,y:373.7});c.push({x:492.9,y:367.2});c.push({x:493.4,y:361.95});c.push({x:495.15,y:356.2});c.push({x:497.65,y:350.95});c.push({x:500.15,y:344.2});c.push({x:502.65,y:339.2});c.push({x:505.9,y:334.7});c.push({x:510.65,y:328.95});c.push({x:513.9,y:323.95});c.push({x:518.9,y:318.95});c.push({x:523.9,
y:314.2});c.push({x:528.9,y:311.2});c.push({x:533.9,y:306.7});c.push({x:539.65,y:301.7});c.push({x:544.65,y:299.2});c.push({x:550.65,y:295.95});c.push({x:558.4,y:294.45});c.push({x:564.9,y:289.95});c.push({x:572.4,y:289.45});c.push({x:579.9,y:286.95});c.push({x:585.15,y:285.95});c.push({x:592.65,y:283.45});c.push({x:600.15,y:283.45});c.push({x:607.9,y:283.45});c.push({x:613.9,y:281.2});c.push({x:621.9,y:280.7});c.push({x:629.4,y:280.7});c.push({x:636.9,y:280.7});c.push({x:644.4,y:280.95});c.push({x:651.9,
y:281.95});c.push({x:658.9,y:284.2});c.push({x:665.65,y:287.45});c.push({x:672.65,y:289.95});c.push({x:679.65,y:291.2});c.push({x:686.4,y:293.7});c.push({x:692.4,y:296.2});c.push({x:699.15,y:298.7});c.push({x:704.15,y:301.95});c.push({x:710.65,y:306.95});c.push({x:715.65,y:309.45});c.push({x:721.15,y:312.95});c.push({x:726.15,y:316.95});c.push({x:731.15,y:321.95});c.push({x:736.15,y:324.95});c.push({x:739.9,y:330.95});c.push({x:742.4,y:335.7});c.push({x:746.15,y:340.95});c.push({x:748.65,y:346.45});
u=createBitmap(s_oSpriteLibrary.getSprite("ball"));u.x=c[0].x;u.y=c[0].y;A.addChild(u);d=0};this.hide=function(){q.visible=!1;A.visible=!1;d=0};this.startSpin=function(b,c,p,d){this.playToFrame(c);a=d;e=!0;A.visible=!0;this.setShowNumberInfo(p);h=!0};this.setShowNumberInfo=function(b){v.text=b;0<a?(m.font="18px "+FONT1,m.text=TEXT_YOU_WIN+" "+a+TEXT_CURRENCY):(m.font="22px "+FONT1,m.text=TEXT_YOU_LOSE);switch(s_oGameSettings.getColorNumber(b)){case COLOR_BLACK:w.gotoAndStop("black");break;case COLOR_RED:w.gotoAndStop("red");
break;case COLOR_ZERO:w.gotoAndStop("green")}};this._showNumberExtracted=function(){q.scaleX=q.scaleY=.1;q.visible=!0;createjs.Tween.get(q).to({scaleX:1,scaleY:1},800,createjs.Ease.cubicOut);if(!1===DISABLE_SOUND_MOBILE||!1===s_bMobile)0<a?playSound("win",1,!1):playSound("lose",1,!1)};this.playToFrame=function(a){x.visible=!1;n=a;f[n].visible=!0;x=f[n];t.visible=!1;l[n].visible=!0;t=l[n]};this.nextFrame=function(){x.visible=!1;n++;f[n].visible=!0;x=f[n];t.visible=!1;l[n].visible=!0;t=l[n]};this._ballSpin=
function(){u.x=c[d].x;u.y=c[d].y;d++;d===NUM_BALL_SPIN_FRAMES?(h=!1,d=NUM_BALL_SPIN_FRAMES-1,s_oGame._rouletteAnimEnded(),this.hide()):d===NUM_BALL_SPIN_FRAMES/2&&this._showNumberExtracted()};this.isVisible=function(){return A.visible};this.update=function(){!1!==h&&(k++,2===k&&(k=0,e&&(this._ballSpin(),n===NUM_MASK_BALL_SPIN_FRAMES-1?this.playToFrame(1):this.nextFrame())))};this._init(b,g)}
function CFinalBetPanel(b,g){var h,e;this._init=function(a,b){h=[[0,10,20,30],[1,11,21,31],[2,12,22,32],[3,13,23,33],[4,14,24,34],[5,15,25,35],[6,16,26,36],[7,17,27],[8,18,28],[9,19,29]];e=new createjs.Container;e.x=a;e.y=b;s_oStage.addChild(e);for(var g=s_oSpriteLibrary.getSprite("final_bet_bg"),d=g.width/2,f=g.height/2,l=0;10>l;l++)(new CTextButton(d,f,g,""+l,FONT1,"#fff",14,e)).addEventListenerWithParams(ON_MOUSE_UP,this._onFinalBetPressed,this,{index:l}),4===l?(d=g.width/2,f+=g.height):d+=g.width+
2;e.visible=!1};this.unload=function(){for(var a=0;a<e.getNumChildren();a++)if(b instanceof CTextButton){var b=e.getChildAt(a);b.unload()}};this.show=function(){e.visible=!0};this.hide=function(){e.visible=!1};this._onFinalBetPressed=function(a){a=a.index;s_oGame._onShowBetOnTable({button:"oBetFinalsBet",numbers:h[a],bet_mult:4===h[a].length?4:3,bet_win:4===h[a].length?9:12,num_fiches:h[a].length},!1);this.hide()};this.isVisible=function(){return e.visible};this._init(b,g)}
function CNeighborsPanel(){var b,g,h,e,a,n,k,d,f,l,c,u,x,t,v,m,q,w;this._init=function(){c=[];w=new createjs.Container;s_oStage.addChild(w);m=new createjs.Shape;m.graphics.beginFill("rgba(0,0,0,0.7)").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);m.on("click",function(){});w.addChild(m);q=new createjs.Container;q.x=265;q.y=85;w.addChild(q);var a=createBitmap(s_oSpriteLibrary.getSprite("neighbor_bg"));q.addChild(a);v=new createjs.Text(h+TEXT_CURRENCY,"20px "+FONT1,"#fff");v.textAlign="center";v.x=690;v.y=
564;q.addChild(v);d=[];a=new CEnlight(354,41,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);d.oEnlight_0=a;a=new CEnlight(212,505,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-136.8);d.oEnlight_1=a;a=new CEnlight(586,145,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(58.1);d.oEnlight_2=a;a=new CEnlight(268,62,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-19.2);d.oEnlight_3=a;a=new CEnlight(523,84,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(39);
d.oEnlight_4=a;a=new CEnlight(377,563,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-175);d.oEnlight_5=a;a=new CEnlight(637,311,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(96.2);d.oEnlight_6=a;a=new CEnlight(142,184,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-58.8);d.oEnlight_7=a;a=new CEnlight(504,530,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(156.5);d.oEnlight_8=a;a=new CEnlight(121,357,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);
a.rotate(-97);d.oEnlight_9=a;a=new CEnlight(421,560,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(175.6);d.oEnlight_10=a;a=new CEnlight(574,473,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(135.8);d.oEnlight_11=a;a=new CEnlight(195,113,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-39.1);d.oEnlight_12=a;a=new CEnlight(619,399,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(117.4);d.oEnlight_13=a;a=new CEnlight(155,440,s_oSpriteLibrary.getSprite("neighbor_enlight"),
q);a.rotate(-118.2);d.oEnlight_14=a;a=new CEnlight(442,47,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(19.7);d.oEnlight_15=a;a=new CEnlight(290,548,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-156.8);d.oEnlight_16=a;a=new CEnlight(628,226,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(80.2);d.oEnlight_17=a;a=new CEnlight(117,269,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-79.2);d.oEnlight_18=a;a=new CEnlight(484,62,s_oSpriteLibrary.getSprite("neighbor_enlight"),
q);a.rotate(29.6);d.oEnlight_19=a;a=new CEnlight(181,475,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-127.5);d.oEnlight_20=a;a=new CEnlight(557,112,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(49.1);d.oEnlight_21=a;a=new CEnlight(115,314,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-88.9);d.oEnlight_22=a;a=new CEnlight(463,549,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(166.4);d.oEnlight_23=a;a=new CEnlight(333,559,s_oSpriteLibrary.getSprite("neighbor_enlight"),
q);a.rotate(-166.6);d.oEnlight_24=a;a=new CEnlight(610,183,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(69);d.oEnlight_25=a;a=new CEnlight(311,47,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-7.9);d.oEnlight_26=a;a=new CEnlight(633,355,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(106.4);d.oEnlight_27=a;a=new CEnlight(166,146,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-48.1);d.oEnlight_28=a;a=new CEnlight(126,225,s_oSpriteLibrary.getSprite("neighbor_enlight"),
q);a.rotate(-68.3);d.oEnlight_29=a;a=new CEnlight(541,505,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(146);d.oEnlight_30=a;a=new CEnlight(134,400,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-108.2);d.oEnlight_31=a;a=new CEnlight(397,40,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(8.7);d.oEnlight_32=a;a=new CEnlight(249,530,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-146.3);d.oEnlight_33=a;a=new CEnlight(636,268,s_oSpriteLibrary.getSprite("neighbor_enlight"),
q);a.rotate(87.9);d.oEnlight_34=a;a=new CEnlight(230,85,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(-29.1);d.oEnlight_35=a;a=new CEnlight(600,439,s_oSpriteLibrary.getSprite("neighbor_enlight"),q);a.rotate(127.1);d.oEnlight_36=a;t=new createjs.Container;q.addChild(t);a=s_oSpriteLibrary.getSprite("hitarea_neighbor");var b=new CGfxButton(376,72,a,q);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:0});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,
this,{index:0});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:0});b=new CGfxButton(415,76,a,q);b.rotate(9.2);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:32});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:32});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:32});b=new CGfxButton(453,86,a,q);b.rotate(20);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:15});
b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:15});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:15});b=new CGfxButton(490,102,a,q);b.rotate(29.4);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:19});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:19});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:19});b=new CGfxButton(520,124,a,q);b.rotate(39.4);b.addEventListenerWithParams(ON_MOUSE_UP,
this._onNeighborRelease,this,{index:4});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:4});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:4});b=new CGfxButton(549,150,a,q);b.rotate(48.8);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:21});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:21});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:21});b=new CGfxButton(571,
181,a,q);b.rotate(58.5);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:2});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:2});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:2});b=new CGfxButton(588,216,a,q);b.rotate(68.7);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:25});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:25});b.addEventListenerWithParams(ON_MOUSE_OUT,
this._onNeighborOut,this,{index:25});b=new CGfxButton(599,253,a,q);b.rotate(78.9);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:17});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:17});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:17});b=new CGfxButton(604,291,a,q);b.rotate(90.4);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:34});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,
this,{index:34});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:34});b=new CGfxButton(603,330,a,q);b.rotate(96.5);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:6});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:6});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:6});b=new CGfxButton(596,368,a,q);b.rotate(107.5);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:27});
b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:27});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:27});b=new CGfxButton(580,404,a,q);b.rotate(116);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:13});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:13});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:13});b=new CGfxButton(560,438,a,q);b.rotate(126.2);b.addEventListenerWithParams(ON_MOUSE_UP,
this._onNeighborRelease,this,{index:36});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:36});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:36});b=new CGfxButton(534,466,a,q);b.rotate(135.7);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:11});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:11});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:11});b=new CGfxButton(504,
490,a,q);b.rotate(145.2);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:30});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:30});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:30});b=new CGfxButton(471,510,a,q);b.rotate(154.9);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:8});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:8});b.addEventListenerWithParams(ON_MOUSE_OUT,
this._onNeighborOut,this,{index:8});b=new CGfxButton(434,522,a,q);b.rotate(165.2);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:23});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:23});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:23});b=new CGfxButton(395,529,a,q);b.rotate(174.9);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:10});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,
this,{index:10});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:10});b=new CGfxButton(357,529,a,q);b.rotate(-176.5);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:5});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:5});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:5});b=new CGfxButton(319,522,a,q);b.rotate(-166);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:24});
b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:24});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:24});b=new CGfxButton(282,509,a,q);b.rotate(-156);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:16});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:16});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:16});b=new CGfxButton(247,491,a,q);b.rotate(-146);b.addEventListenerWithParams(ON_MOUSE_UP,
this._onNeighborRelease,this,{index:33});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:33});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:33});b=new CGfxButton(217,466,a,q);b.rotate(-137);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:1});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:1});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:1});b=new CGfxButton(193,
437,a,q);b.rotate(-128);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:20});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:20});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:20});b=new CGfxButton(172,404,a,q);b.rotate(-118.4);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:14});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:14});b.addEventListenerWithParams(ON_MOUSE_OUT,
this._onNeighborOut,this,{index:14});b=new CGfxButton(158,367,a,q);b.rotate(-105.7);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:31});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:31});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:31});b=new CGfxButton(149,330,a,q);b.rotate(-95.5);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:9});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,
this,{index:9});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:9});b=new CGfxButton(148,291,a,q);b.rotate(-88.2);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:22});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:22});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:22});b=new CGfxButton(154,252,a,q);b.rotate(-78);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:18});
b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:18});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:18});b=new CGfxButton(164,216,a,q);b.rotate(-67.8);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:29});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:29});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:29});b=new CGfxButton(181,181,a,q);b.rotate(-57.6);b.addEventListenerWithParams(ON_MOUSE_UP,
this._onNeighborRelease,this,{index:7});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:7});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:7});b=new CGfxButton(205,150,a,q);b.rotate(-48.8);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:28});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:28});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:28});b=new CGfxButton(233,
124,a,q);b.rotate(-39.1);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:12});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:12});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:12});b=new CGfxButton(265,102,a,q);b.rotate(-29.9);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:35});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:35});b.addEventListenerWithParams(ON_MOUSE_OUT,
this._onNeighborOut,this,{index:35});b=new CGfxButton(300,86,a,q);b.rotate(-19.2);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:3});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,this,{index:3});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:3});b=new CGfxButton(338,76,a,q);b.rotate(-8.5);b.addEventListenerWithParams(ON_MOUSE_UP,this._onNeighborRelease,this,{index:26});b.addEventListenerWithParams(ON_MOUSE_OVER,this._onNeighborOver,
this,{index:26});b.addEventListenerWithParams(ON_MOUSE_OUT,this._onNeighborOut,this,{index:26});this._initNeighbors();x=new CGfxButton(717,38,s_oSpriteLibrary.getSprite("but_exit"),q);x.addEventListener(ON_MOUSE_UP,this.onExit,this);this.reset();this.hide()};this.unload=function(){m.off("click",function(){});for(var a=0;a<w.getNumChildren();a++)if(b instanceof CGfxButton){var b=w.getChildAt(a);b.unload()}};this.showPanel=function(a,b,c){g=a;h=b;e=c;l=[];v.text=b+TEXT_CURRENCY;w.visible=!0};this.hide=
function(){w.visible=!1};this._initNeighbors=function(){a=[[3,26,0,32,15],[16,33,1,20,14],[4,21,2,25,17],[12,35,3,26,0],[15,19,4,21,2],[23,10,5,24,16],[17,34,6,27,13],[18,29,7,28,12],[11,30,8,23,10],[14,31,9,22,18],[8,23,10,5,24],[13,36,11,30,8],[7,28,12,35,3],[6,27,13,36,11],[1,20,14,31,9],[0,32,15,19,4],[5,24,16,33,1],[2,25,17,34,6],[9,22,18,29,7],[32,15,19,4,21],[33,1,20,14,31],[19,4,21,2,25],[31,9,22,18,29],[30,8,23,10,5],[10,5,24,16,33],[21,2,25,17,34],[35,3,26,0,32],[34,6,27,13,36],[29,7,28,
12,35],[22,18,29,7,28],[36,11,30,8,23],[20,14,31,9,22],[26,0,32,15,19],[24,16,33,1,20],[25,17,34,6,27],[28,12,35,3,26],[27,13,36,11,30]];u=[];u.oAttach_0=new createjs.Point(377,70);u.oAttach_32=new createjs.Point(416,74);u.oAttach_15=new createjs.Point(454,85);u.oAttach_19=new createjs.Point(492,101);u.oAttach_4=new createjs.Point(523,122);u.oAttach_21=new createjs.Point(550,150);u.oAttach_2=new createjs.Point(572,180);u.oAttach_25=new createjs.Point(588,216);u.oAttach_17=new createjs.Point(603,255);
u.oAttach_34=new createjs.Point(607,294);u.oAttach_6=new createjs.Point(605,330);u.oAttach_27=new createjs.Point(600,370);u.oAttach_13=new createjs.Point(585,408);u.oAttach_36=new createjs.Point(565,442);u.oAttach_11=new createjs.Point(538,472);u.oAttach_30=new createjs.Point(506,494);u.oAttach_8=new createjs.Point(475,515);u.oAttach_23=new createjs.Point(435,526);u.oAttach_10=new createjs.Point(398,536);u.oAttach_5=new createjs.Point(357,534);u.oAttach_24=new createjs.Point(318,526);u.oAttach_16=
new createjs.Point(282,513);u.oAttach_33=new createjs.Point(245,494);u.oAttach_1=new createjs.Point(218,468);u.oAttach_20=new createjs.Point(190,440);u.oAttach_14=new createjs.Point(173,406);u.oAttach_31=new createjs.Point(156,368);u.oAttach_9=new createjs.Point(150,330);u.oAttach_22=new createjs.Point(148,292);u.oAttach_18=new createjs.Point(153,252);u.oAttach_29=new createjs.Point(165,215);u.oAttach_7=new createjs.Point(182,183);u.oAttach_28=new createjs.Point(208,150);u.oAttach_12=new createjs.Point(233,
123);u.oAttach_35=new createjs.Point(266,100);u.oAttach_3=new createjs.Point(302,86);u.oAttach_26=new createjs.Point(339,76)};this.reset=function(){n=[];for(var a=0;a<NUMBERS_TO_BET;a++)n[a]=0;if(k)for(a=0;a<k.length;a++)t.removeChild(k[a].getSprite());k=[];f=[];e=0};this.clearLastBet=function(){if(0!==c.length){var a=c.pop(),b=s_oGameSettings.getFicheValues(g);n[a]-=b;n[a]=roundDecimal(n[a],1);b=f[a];0<b.length?t.removeChild(b[b.length-1].getSprite()):(c=[],n[a]=0);k.pop();f[a].pop();if(0===c.length)for(k=
[],f=[],a=0;a<NUMBERS_TO_BET;a++)n[a]=0;e=0}};this.onExit=function(){this.hide()};this.addFicheOnNeighborTable=function(){var d=s_oGameSettings.getFicheValues(g);if(e+5*d>h)s_oGame.showMsgBox(TEXT_ERROR_NO_MONEY_MSG);else if(e+5*d>MAX_BET)s_oGame.showMsgBox(TEXT_ERROR_MAX_BET_REACHED);else{e+=5*d;e=roundDecimal(e,1);var k=h-e;k=roundDecimal(k,1);v.text=k+TEXT_CURRENCY;playSound("chip",1,!1);n[b]+=d;n[b]=roundDecimal(n[b],1);d=s_oGameSettings.generateFichesPileByIndex(n[b]);d.sort();this._removeFichesPile(f[b]);
f[b]=[];k=u["oAttach_"+b].x;for(var m=u["oAttach_"+b].y,q=0;q<d.length;q++)this._attachFichesPile(d[q],b,k,m),m-=5;l.push(b);s_oGame._onShowBetOnTableFromNeighbors({button:"oBetNeighbors",numbers:a[b],bet_mult:5,bet_win:7.2,value:g,num_fiches:5,num_clicked:b},!1);c.push(b)}};this._attachFichesPile=function(a,b,c,d){a=new CFiche(c,d,a,t,.7);f[b].push(a);k.push(a)};this._removeFichesPile=function(a){for(var b in a)t.removeChild(a[b].getSprite())};this.searchForNumClicked=function(){for(var a=0;a<l.length;a++)if(l[a]===
b)return!0;return!1};this._onNeighborRelease=function(a){b=a.index;this.addFicheOnNeighborTable()};this.rebet=function(a){b=a;this.addFicheOnNeighborTable()};this._onNeighborOver=function(b){b=a[b.index];for(var c=0;c<b.length;c++)d["oEnlight_"+b[c]].show()};this._onNeighborOut=function(b){b=a[b.index];for(var c=0;c<b.length;c++)d["oEnlight_"+b[c]].hide()};this.isVisible=function(){return w.visible};this._init()}
function CGameOver(){var b,g,h;this._init=function(){h=new createjs.Container;s_oStage.addChild(h);var e=createBitmap(s_oSpriteLibrary.getSprite("msg_box"));h.addChild(e);new CTLText(h,CANVAS_WIDTH/2-250,230,500,80,40,"center","#fff",FONT1,1,2,2,TEXT_NO_MONEY,!0,!0,!0,!1);new CTLText(h,CANVAS_WIDTH/2-250,370,500,40,40,"center","#fff",FONT1,1,2,2,TEXT_RECHARGE_MSG,!0,!0,!0,!1);b=new CTextButton(CANVAS_WIDTH/2+170,510,s_oSpriteLibrary.getSprite("but_bg"),TEXT_RECHARGE,FONT1,"#fff",14,h);b.addEventListener(ON_MOUSE_UP,
this._onRecharge,this);g=new CTextButton(CANVAS_WIDTH/2-170,510,s_oSpriteLibrary.getSprite("but_bg"),TEXT_EXIT,FONT1,"#fff",14,h);g.addEventListener(ON_MOUSE_UP,this._onExit,this);this.hide()};this.unload=function(){b.unload();g.unload()};this.show=function(){h.visible=!0};this.hide=function(){h.visible=!1};this._onRecharge=function(){s_oGame.onRecharge()};this._onExit=function(){s_oGame.onExit()};this._init()}
function CCreditsPanel(){var b,g,h,e,a,n,k,d,f;this._init=function(){f=new createjs.Container;s_oStage.addChild(f);var l=createBitmap(s_oSpriteLibrary.getSprite("bg_menu"));f.addChild(l);a=new createjs.Shape;a.graphics.beginFill("rgba(0,0,0,0.7)").drawRect(0,0,CANVAS_WIDTH,CANVAS_HEIGHT);f.addChild(a);l=s_oSpriteLibrary.getSprite("msg_box");g=createBitmap(l);g.x=CANVAS_WIDTH/2;g.y=CANVAS_HEIGHT/2;g.regX=l.width/2;g.regY=l.height/2;f.addChild(g);n=new createjs.Shape;n.graphics.beginFill("#0f0f0f").drawRect(0,
0,CANVAS_WIDTH,CANVAS_HEIGHT);n.alpha=.01;k=n.on("click",this._onLogoButRelease);f.addChild(n);l=s_oSpriteLibrary.getSprite("but_exit");b=CANVAS_WIDTH/2+234;h=new CGfxButton(b,254,l,f);h.addEventListener(ON_MOUSE_UP,this.unload,this);e=new createjs.Text(TEXT_CREDITS_DEVELOPED,"26px Arial","#ffffff");e.x=CANVAS_WIDTH/2;e.y=300;e.textAlign="center";f.addChild(e);l=s_oSpriteLibrary.getSprite("logo_credits");var c=createBitmap(l);c.regX=l.width/2;c.regY=l.height/2;c.x=CANVAS_WIDTH/2;c.y=CANVAS_HEIGHT/
2;f.addChild(c);d=new createjs.Text(TEXT_LINK,"24px Arial","#ffffff");d.x=CANVAS_WIDTH/2;d.y=440;d.textAlign="center";f.addChild(d)};this.unload=function(){n.off("click",k);h.unload();h=null;s_oStage.removeChild(f)};this._onLogoButRelease=function(){window.open("http://www.codethislab.com/index.php?&l=en")};this._init()}
function CHistory(b,g,h){var e,a;this._init=function(b,d){a=new createjs.Container;a.x=b;a.y=d;n.addChild(a);var f=s_oSpriteLibrary.getSprite("history_bg"),e=createBitmap(f);a.addChild(e);e=new createjs.Text(TEXT_HISTORY,"12px "+FONT1,"#fff");e.textAlign="center";e.x=f.width/2;e.y=5;a.addChild(e);this._initNumExtracted()};this._initNumExtracted=function(){e=[];for(var b=24,d=0;d<ROW_HISTORY;d++){var f=new CHistoryRow(5,b,a);e[d]=f;b+=22}};this.setPosition=function(b,d){a.x=b;a.y=d};this.showBlack=
function(a,b){e[a].showBlack(b)};this.showRed=function(a,b){e[a].showRed(b)};this.showGreen=function(a,b){e[a].showGreen(b)};var n=h;this._init(b,g)}var EASE_LINEAR=0,EASE_CUBIC_IN=1,EASE_QUART_BACKIN=2,EASE_BACKIN=3,EASE_SIN_IN=4,EASE_QUAD_IN=5,EASE_CUBIC_OUT=6,EASE_ELASTIC_OUT=7,EASE_BACKOUT=8,EASE_QUINT_OUT=9,EASE_CUBIC_INOUT=10;
function CRollingTextController(b,g,h,e,a,n,k){var d,f,l,c,u,x,t,v,m,q,w,p=[],A,E;this._init=function(a,b,c,d,e,f,g){q=[];w=[];u=e;this.setUpdateInfo(c,d);v=f;m=g;A=a;E=b};this.unload=function(){clearInterval(t)};this.setUpdateInfo=function(a,b){l=parseFloat(a);c=l+b;d=0;f=Math.round(u/FPS);x=0;var e=this;t=setInterval(function(){e.update()},FPS_TIME)};this.addEventListener=function(a,b,c){q[a]=b;w[a]=c};this.addRollingListener=function(a,b,c){q[ON_CONTROLLER_ROLL]=a;w[ON_CONTROLLER_ROLL]=b;p=[];
for(a=0;a<c.length;a++)p[a]={step:c[a],flag:!1}};this.increaseValue=function(a){x=a};this.getTarget=function(){return A};this.update=function(){d++;if(d>f)d=0,A.text=c.toFixed(2)+m,null!==E&&(E.text=c.toFixed(2)+m),clearInterval(t),null!==q[ON_CONTROLLER_END]&&void 0!==q[ON_CONTROLLER_END]&&q[ON_CONTROLLER_END].call(w[ON_CONTROLLER_END],this),0<x?this.setUpdateInfo(x):null!==q[ON_CONTROLLER_REMOVE]&&void 0!==q[ON_CONTROLLER_REMOVE]&&q[ON_CONTROLLER_REMOVE].call(w[ON_CONTROLLER_REMOVE],this);else{switch(v){case EASE_BACKIN:var a=
s_oTweenController.easeInBack(d,0,1,f);break;case EASE_BACKOUT:a=s_oTweenController.easeOutBack(d,0,1,f);break;case EASE_CUBIC_IN:a=s_oTweenController.easeInCubic(d,0,1,f);break;case EASE_CUBIC_OUT:a=s_oTweenController.easeOutCubic(d,0,1,f);break;case EASE_ELASTIC_OUT:a=s_oTweenController.easeOutElastic(d,0,1,f);break;case EASE_LINEAR:a=s_oTweenController.easeLinear(d,0,1,f);break;case EASE_QUART_BACKIN:a=s_oTweenController.easeBackInQuart(d,0,1,f);break;default:a=s_oTweenController.easeLinear(d,
0,1,f)}a=s_oTweenController.tweenValue(l,c,a);for(var b=0;b<p.length;b++)a>p[b].step&&!p[b].flag&&(p[b].flag=!0,null!==q[ON_CONTROLLER_ROLL]&&q[ON_CONTROLLER_ROLL].call(w[ON_CONTROLLER_ROLL],b));A.text=a.toFixed(2)+m;null!==E&&(E.text=a.toFixed(2)+m)}};this._init(b,g,h,e,a,n,k)}
CTLText.prototype={constructor:CTLText,__autofit:function(){if(this._bFitText){for(var b=this._iFontSize;(this._oText.getBounds().height>this._iHeight-2*this._iPaddingV||this._oText.getBounds().width>this._iWidth-2*this._iPaddingH)&&!(b--,this._oText.font=b+"px "+this._szFont,this._oText.lineHeight=Math.round(b*this._fLineHeightFactor),this.__updateY(),this.__verticalAlign(),8>b););this._iFontSize=b}},__verticalAlign:function(){if(this._bVerticalAlign){var b=this._oText.getBounds().height;this._oText.y-=
(b-this._iHeight)/2+this._iPaddingV}},__updateY:function(){this._oText.y=this._y+this._iPaddingV;switch(this._oText.textBaseline){case "middle":this._oText.y+=this._oText.lineHeight/2+(this._iFontSize*this._fLineHeightFactor-this._iFontSize)}},__createText:function(b){this._bDebug&&(this._oDebugShape=new createjs.Shape,this._oDebugShape.graphics.beginFill("rgba(255,0,0,0.5)").drawRect(this._x,this._y,this._iWidth,this._iHeight),this._oContainer.addChild(this._oDebugShape));this._oText=new createjs.Text(b,
this._iFontSize+"px "+this._szFont,this._szColor);this._oText.textBaseline="middle";this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this._oText.textAlign=this._szAlign;this._oText.lineWidth=this._bMultiline?this._iWidth-2*this._iPaddingH:null;switch(this._szAlign){case "center":this._oText.x=this._x+this._iWidth/2;break;case "left":this._oText.x=this._x+this._iPaddingH;break;case "right":this._oText.x=this._x+this._iWidth-this._iPaddingH}this._oContainer.addChild(this._oText);
this.refreshText(b)},setVerticalAlign:function(b){this._bVerticalAlign=b},setOutline:function(b){null!==this._oText&&(this._oText.outline=b)},setShadow:function(b,g,h,e){null!==this._oText&&(this._oText.shadow=new createjs.Shadow(b,g,h,e))},setColor:function(b){this._oText.color=b},setAlpha:function(b){this._oText.alpha=b},removeTweens:function(){createjs.Tween.removeTweens(this._oText)},getText:function(){return this._oText},getY:function(){return this._y},getFontSize:function(){return this._iFontSize},
refreshText:function(b){""===b&&(b=" ");null===this._oText&&this.__createText(b);this._oText.text=b;this._oText.font=this._iFontSize+"px "+this._szFont;this._oText.lineHeight=Math.round(this._iFontSize*this._fLineHeightFactor);this.__autofit();this.__updateY();this.__verticalAlign()}};
function CTLText(b,g,h,e,a,n,k,d,f,l,c,u,x,t,v,m,q){this._oContainer=b;this._x=g;this._y=h;this._iWidth=e;this._iHeight=a;this._bMultiline=m;this._iFontSize=n;this._szAlign=k;this._szColor=d;this._szFont=f;this._iPaddingH=c;this._iPaddingV=u;this._bVerticalAlign=v;this._bFitText=t;this._bDebug=q;this._oDebugShape=null;this._fLineHeightFactor=l;this._oText=null;x&&this.__createText(x)}
function CSpinBut(b,g,h,e,a,n,k,d){var f,l,c,u,x,t,v,m,q,w;this._init=function(a,b,e,g,h,k,n){f=!1;l=1;c=[];u=[];m=new createjs.Container;m.x=a;m.y=b;m.regX=e.width/2;m.regY=e.height/2;s_bMobile||(m.cursor="pointer");d.addChild(m);w=createBitmap(e);m.addChild(w);q=new CTLText(m,80,10,e.width-90,e.height-20,n,"center",k,h,1,0,0,g,!0,!0,!0,!1);this._initListener()};this.unload=function(){m.off("mousedown",x);m.off("pressup",t);d.removeChild(m)};this.setVisible=function(a){m.visible=a};this.setScale=
function(a){l=m.scaleX=m.scaleY=a};this.enable=function(){f=!1};this.disable=function(){f=!0};this._initListener=function(){x=m.on("mousedown",this.buttonDown);t=m.on("pressup",this.buttonRelease)};this.addEventListener=function(a,b,d){c[a]=b;u[a]=d};this.addEventListenerWithParams=function(a,b,d,e){c[a]=b;u[a]=d;v=e};this.buttonRelease=function(){f||(playSound("click",1,!1),m.scaleX=l,m.scaleY=l,c[ON_MOUSE_UP]&&c[ON_MOUSE_UP].call(u[ON_MOUSE_UP],v))};this.buttonDown=function(){f||(m.scaleX=.9*l,
m.scaleY=.9*l,c[ON_MOUSE_DOWN]&&c[ON_MOUSE_DOWN].call(u[ON_MOUSE_DOWN]))};this.setPosition=function(a,b){m.x=a;m.y=b};this.tweenPosition=function(a,b,c,d,e,f,g){createjs.Tween.get(m).wait(d).to({x:a,y:b},c,e).call(function(){void 0!==f&&f.call(g)})};this.changeText=function(a){q.refreshText(a)};this.setX=function(a){m.x=a};this.setY=function(a){m.y=a};this.getButtonImage=function(){return m};this.getX=function(){return m.x};this.getY=function(){return m.y};this.getSprite=function(){return m};this.getScale=
function(){return m.scaleX};this._init(b,g,h,e,a,n,k)};